=== Docker build Dockerfile.github
[2017-05-09 14:28.57] Starting...
Cloning into '/tmp/with_clone24b7c8dd'...
done.
warning: remote HEAD refers to nonexistent ref, unable to checkout.

HEAD is now at 2984429 appveyor: add missing pins
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 6.128 MBSending build context to Docker daemon 6.185 MB
Step 1/32 : FROM ocaml/opam-dev@sha256:64dc0522876ebbd27b186e3ba955ae5ab864ace580add5b0d1abb8715bdf1bbe
sha256:64dc0522876ebbd27b186e3ba955ae5ab864ace580add5b0d1abb8715bdf1bbe: Pulling from ocaml/opam-dev
Digest: sha256:64dc0522876ebbd27b186e3ba955ae5ab864ace580add5b0d1abb8715bdf1bbe
Status: Image is up to date for ocaml/opam-dev@sha256:64dc0522876ebbd27b186e3ba955ae5ab864ace580add5b0d1abb8715bdf1bbe
 ---> 477ad7d223ad
Step 2/32 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Using cache
 ---> 20061f41087f
Step 3/32 : RUN sudo apk add tzdata aspcud
 ---> Using cache
 ---> c9c160bcf357
Step 4/32 : RUN opam pin add irmin.1.1.0 -n https://github.com/mirage/irmin.git#89196ad17c53b02f333022a87ecc264ec8c06af0
 ---> Using cache
 ---> 1a542704b306
Step 5/32 : RUN opam pin add irmin-git.1.1.0 -n https://github.com/mirage/irmin.git#89196ad17c53b02f333022a87ecc264ec8c06af0
 ---> Using cache
 ---> 799f83f1e93a
Step 6/32 : RUN opam pin add -yn protocol-9p.0.11.0 'https://github.com/mirage/ocaml-9p.git#v0.11.0'
 ---> Using cache
 ---> c09008201605
Step 7/32 : RUN opam pin add -yn protocol-9p-unix.0.11.0 'https://github.com/mirage/ocaml-9p.git#v0.11.0'
 ---> Using cache
 ---> 192d781bd185
Step 8/32 : RUN opam depext -ui lwt inotify alcotest conf-libev lambda-term cmdliner     github protocol-9p rresult prometheus-app asl win-eventlog mtime hex     github-hooks hvsock camlzip irmin-watcher git irmin
 ---> Using cache
 ---> 8d0e0536e9b2
Step 9/32 : COPY check-libev.ml /tmp/check-libev.ml
 ---> dfab38e1a1b5
Error removing intermediate container 82b6a4695ea6: Driver aufs failed to remove root filesystem 82b6a4695ea68a18d958fe714e575647f6682808806ad3265ed370f77cf32d04: rename /var/lib/docker/aufs/mnt/ce4e0be75fd4f0760b3fe8b415094db58624ba341e686b32702a5b9bb54216f6 /var/lib/docker/aufs/mnt/ce4e0be75fd4f0760b3fe8b415094db58624ba341e686b32702a5b9bb54216f6-removing: device or resource busy
Step 10/32 : RUN opam config exec -- ocaml /tmp/check-libev.ml
 ---> Running in 012ae9d043db
 ---> a515096257e8
Error removing intermediate container 82b6a4695ea6: No such container: 82b6a4695ea68a18d958fe714e575647f6682808806ad3265ed370f77cf32d04
Step 11/32 : COPY datakit.opam /home/opam/src/datakit/datakit.opam
 ---> d7c7ea43a611
Removing intermediate container 012ae9d043db
Error removing intermediate container baf0a43dba45: Driver aufs failed to remove root filesystem baf0a43dba453f04c7df54b5358b9469defdf7afa835ad5247068736070d223a: rename /var/lib/docker/aufs/mnt/2d55cac0a7a1a41065c7d0c3290cc2c07f8d48004abb90019212821b85e6e642 /var/lib/docker/aufs/mnt/2d55cac0a7a1a41065c7d0c3290cc2c07f8d48004abb90019212821b85e6e642-removing: device or resource busy
Step 12/32 : COPY datakit-client.opam /home/opam/src/datakit/datakit-client.opam
 ---> 5efc3f557d41
Error removing intermediate container 82b6a4695ea6: No such container: 82b6a4695ea68a18d958fe714e575647f6682808806ad3265ed370f77cf32d04
Step 13/32 : COPY datakit-client-9p.opam /home/opam/src/datakit/datakit-client-9p.opam
 ---> 961f0fb6ae16
Error removing intermediate container 82b6a4695ea6: No such container: 82b6a4695ea68a18d958fe714e575647f6682808806ad3265ed370f77cf32d04
Step 14/32 : COPY datakit-server.opam /home/opam/src/datakit/datakit-server.opam
 ---> 5aa57731d9cb
Removing intermediate container dd2e0c67429e
Error removing intermediate container baf0a43dba45: No such container: baf0a43dba453f04c7df54b5358b9469defdf7afa835ad5247068736070d223a
Step 15/32 : COPY datakit-server-9p.opam /home/opam/src/datakit/datakit-server-9p.opam
 ---> 6a761ff98894
Error removing intermediate container baf0a43dba45: No such container: baf0a43dba453f04c7df54b5358b9469defdf7afa835ad5247068736070d223a
Step 16/32 : COPY datakit-github.opam /home/opam/src/datakit/datakit-github.opam
 ---> 7f230ee08345
Removing intermediate container fdc9b66ad85d
Error removing intermediate container baf0a43dba45: No such container: baf0a43dba453f04c7df54b5358b9469defdf7afa835ad5247068736070d223a
Step 17/32 : COPY datakit-bridge-github.opam /home/opam/src/datakit/datakit-bridge-github.opam
 ---> d1e6193c07f6
Removing intermediate container 9ad1915fb75b
Removing intermediate container fffcca5c417c
Removing intermediate container 3e62a8918754
Error removing intermediate container 82b6a4695ea6: No such container: 82b6a4695ea68a18d958fe714e575647f6682808806ad3265ed370f77cf32d04
Step 18/32 : RUN opam pin add datakit.dev /home/opam/src/datakit -yn &&     opam pin add datakit-server.dev /home/opam/src/datakit -yn &&     opam pin add datakit-server-9p.dev /home/opam/src/datakit -yn &&     opam pin add datakit-client.dev /home/opam/src/datakit -yn &&     opam pin add datakit-client-9p.dev /home/opam/src/datakit -yn &&     opam pin add datakit-github.dev /home/opam/src/datakit -yn &&     opam pin add datakit-bridge-github.dev /home/opam/src/datakit -yn
 ---> Running in ae777b9602de
[datakit.dev: rsync]
[datakit.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit/datakit.opam from 1.2 to 2.0~beta
[0mdatakit is now pinned to file:///home/opam/src/datakit (version dev)
[datakit-server.dev: rsync]
[datakit-server.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-server/datakit-server.opam from 1.2 to 2.0~beta
[0mdatakit-server is now pinned to file:///home/opam/src/datakit (version dev)
Package datakit-server-9p does not exist, create as a NEW package ? [Y/n] y
[datakit-server-9p.dev: rsync]
[datakit-server-9p.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-server-9p/datakit-server-9p.opam from 1.2 to 2.0~beta
[0mdatakit-server-9p is now pinned to file:///home/opam/src/datakit (version dev)
[datakit-client.dev: rsync]
[datakit-client.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-client/datakit-client.opam from 1.2 to 2.0~beta
[0mdatakit-client is now pinned to file:///home/opam/src/datakit (version dev)
Package datakit-client-9p does not exist, create as a NEW package ? [Y/n] y
[datakit-client-9p.dev: rsync]
[datakit-client-9p.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-client-9p/datakit-client-9p.opam from 1.2 to 2.0~beta
[0mdatakit-client-9p is now pinned to file:///home/opam/src/datakit (version dev)
[datakit-github.dev: rsync]
[datakit-github.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-github/datakit-github.opam from 1.2 to 2.0~beta
[0mdatakit-github is now pinned to file:///home/opam/src/datakit (version dev)
[datakit-bridge-github.dev: rsync]
[datakit-bridge-github.dev] synchronised from file:///home/opam/src/datakit
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit-bridge-github/datakit-bridge-github.opam from 1.2 to 2.0~beta
[0mdatakit-bridge-github is now pinned to file:///home/opam/src/datakit (version dev)
 ---> 5067fb31a7c7
Error removing intermediate container baf0a43dba45: No such container: baf0a43dba453f04c7df54b5358b9469defdf7afa835ad5247068736070d223a
Step 19/32 : COPY . /home/opam/src/datakit
 ---> b6abcc78a5ec
Error removing intermediate container 82b6a4695ea6: No such container: 82b6a4695ea68a18d958fe714e575647f6682808806ad3265ed370f77cf32d04
Step 20/32 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in 6e7681ceca48
 ---> 6fba80ddb13a
Removing intermediate container de2bb9c8df68
Removing intermediate container 6e7681ceca48
Error removing intermediate container 82b6a4695ea6: No such container: 82b6a4695ea68a18d958fe714e575647f6682808806ad3265ed370f77cf32d04
Step 21/32 : RUN cd /home/opam/src/datakit &&     scripts/watermark.sh &&     git status --porcelain
 ---> Running in cba027bd53ee
 M src/version.ml
 ---> 78f856e36054
Removing intermediate container 6544a45e3bdd
Error removing intermediate container baf0a43dba45: No such container: baf0a43dba453f04c7df54b5358b9469defdf7afa835ad5247068736070d223a
Step 22/32 : RUN opam install datakit
 ---> Running in 9ba9c59e50aa

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit.dev] synchronised from file:///home/opam/src/datakit

The following actions will be performed:
  - install irmin-git         1.1.0*                            [required by datakit]
  - install protocol-9p-unix  0.11.0*                           [required by datakit]
  - install datakit-server    dev*                              [required by datakit-server-9p]
  - install datakit-server-9p dev*                              [required by datakit]
  - install datakit           dev*
===== 5 to install =====
[datakit.dev] synchronised from file:///home/opam/src/datakit
[datakit-server.dev] synchronised from file:///home/opam/src/datakit
[datakit-server-9p.dev] synchronised from file:///home/opam/src/datakit
[protocol-9p-unix.0.11.0] synchronised from git+https://github.com/mirage/ocaml-9p.git#v0.11.0
[irmin-git.1.1.0] synchronised from git+https://github.com/mirage/irmin.git#89196ad17c53b02f333022a87ecc264ec8c06af0

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> installed datakit-server.dev
-> installed datakit-server-9p.dev
-> installed irmin-git.1.1.0
-> installed protocol-9p-unix.0.11.0
-> installed datakit.dev
Done.
# Run eval `opam env` to update the current shell environment
 ---> 66f95f6bb0e7
Removing intermediate container ae777b9602de
Removing intermediate container cba027bd53ee
Error removing intermediate container 82b6a4695ea6: No such container: 82b6a4695ea68a18d958fe714e575647f6682808806ad3265ed370f77cf32d04
Step 23/32 : RUN opam install datakit-bridge-github -ytv
 ---> Running in fa8ea49391df

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/1: [datakit-bridge-github.dev: rsync]
[datakit-bridge-github.dev] synchronised from file:///home/opam/src/datakit

The following actions will be performed:
  - install datakit-client        dev*                          [required by datakit-bridge-github]
  - install datakit-github        dev*                          [required by datakit-bridge-github]
  - install datakit-client-9p     dev*                          [required by datakit-bridge-github]
  - install datakit-bridge-github dev*
===== 4 to install =====
Processing  1/4: [datakit-bridge-github.dev: rsync]
Processing  2/4: [datakit-bridge-github.dev: rsync] [datakit-client.dev: rsync]
Processing  3/4: [datakit-bridge-github.dev: rsync] [datakit-client.dev: rsync] [datakit-client-9p.dev: rsync]
[datakit-bridge-github.dev] synchronised from file:///home/opam/src/datakit
Processing  3/4: [datakit-client.dev: rsync] [datakit-client-9p.dev: rsync]
Processing  4/4: [datakit-client.dev: rsync] [datakit-client-9p.dev: rsync] [datakit-github.dev: rsync]
[datakit-client.dev] synchronised from file:///home/opam/src/datakit
Processing  4/4: [datakit-client-9p.dev: rsync] [datakit-github.dev: rsync]
[datakit-client-9p.dev] synchronised from file:///home/opam/src/datakit
Processing  4/4: [datakit-github.dev: rsync]
[datakit-github.dev] synchronised from file:///home/opam/src/datakit

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/8: [datakit-client: jbuilder build]
+ jbuilder "build" "-p" "datakit-client" "-j" "1" (CWD=/home/opam/.opam/default/.opam-switch/build/datakit-client.dev)
-     ocamldep api/ocaml/9p/mount/mount.depends.ocamldep-output
-     ocamldep api/ocaml/datakit_client.depends.ocamldep-output
-     ocamldep api/ocaml/datakit_client.dependsi.ocamldep-output
-       ocamlc api/ocaml/9p/mount/version.{cmi,cmo,cmt}
-       ocamlc api/ocaml/datakit_path.{cmi,cmti}
-       ocamlc api/ocaml/9p/mount/mount.{cmi,cmo,cmt}
-     ocamlopt api/ocaml/9p/mount/version.{cmx,o}
-       ocamlc api/ocaml/datakit_path.{cmo,cmt}
-     ocamlopt api/ocaml/datakit_path.{cmx,o}
-       ocamlc api/ocaml/datakit_S.{cmi,cmo,cmt}
-     ocamlopt api/ocaml/9p/mount/mount.{cmx,o}
-     ocamlopt api/ocaml/datakit_S.{cmx,o}
-       ocamlc api/ocaml/datakit_client.cma
-     ocamlopt api/ocaml/9p/mount/mount.exe
-     ocamlopt api/ocaml/datakit_client.{a,cmxa}
-     ocamlopt api/ocaml/datakit_client.cmxs
-> compiled  datakit-client.dev
-> installed datakit-client.dev
Processing  3/8: [datakit-client-9p: jbuilder build]
+ jbuilder "build" "-p" "datakit-client-9p" "-j" "1" (CWD=/home/opam/.opam/default/.opam-switch/build/datakit-client-9p.dev)
-     ocamldep api/ocaml/9p/datakit_client_9p.depends.ocamldep-output
-     ocamldep api/ocaml/9p/datakit_client_9p.dependsi.ocamldep-output
-       ocamlc api/ocaml/9p/datakit_client_9p.{cmi,cmti}
-       ocamlc api/ocaml/9p/datakit_client_9p.{cmo,cmt}
-     ocamlopt api/ocaml/9p/datakit_client_9p.{cmx,o}
-       ocamlc api/ocaml/9p/datakit_client_9p.cma
-     ocamlopt api/ocaml/9p/datakit_client_9p.{a,cmxa}
-     ocamlopt api/ocaml/9p/datakit_client_9p.cmxs
-> compiled  datakit-client-9p.dev
Processing  4/8: [datakit-github: jbuilder build]
+ jbuilder "build" "-p" "datakit-github" "-j" "1" (CWD=/home/opam/.opam/default/.opam-switch/build/datakit-github.dev)
-     ocamldep src/datakit-github/datakit_github.depends.ocamldep-output
-     ocamldep src/datakit-github/datakit_github.dependsi.ocamldep-output
-       ocamlc src/datakit-github/datakit_github.{cmi,cmti}
-       ocamlc src/datakit-github/datakit_github.{cmo,cmt}
-     ocamlopt src/datakit-github/datakit_github.{cmx,o}
-       ocamlc src/datakit-github/datakit_github_conv.{cmi,cmti}
-       ocamlc src/datakit-github/datakit_github_conv.{cmo,cmt}
-     ocamlopt src/datakit-github/datakit_github_conv.{cmx,o}
-       ocamlc src/datakit-github/datakit_github.cma
-     ocamlopt src/datakit-github/datakit_github.{a,cmxa}
-     ocamlopt src/datakit-github/datakit_github.cmxs
-> compiled  datakit-github.dev
-> installed datakit-client-9p.dev
-> installed datakit-github.dev
Processing  7/8: [datakit-bridge-github: jbuilder build]
+ jbuilder "build" "-p" "datakit-bridge-github" "-j" "1" (CWD=/home/opam/.opam/default/.opam-switch/build/datakit-bridge-github.dev)
-     ocamldep bridge/github/main.depends.ocamldep-output
-     ocamldep bridge/github/datakit_bridge_github.depends.ocamldep-output
-     ocamldep bridge/github/main.dependsi.ocamldep-output
-     ocamldep bridge/github/datakit_bridge_github.dependsi.ocamldep-output
-     ocamldep src/datakit-log/datakit_log.dependsi.ocamldep-output
-     ocamldep src/datakit-log/datakit_log.depends.ocamldep-output
-       ocamlc bridge/github/datakit_github_api.{cmi,cmti}
-       ocamlc bridge/github/datakit_github_state.{cmi,cmti}
-       ocamlc bridge/github/datakit_github_sync.{cmi,cmti}
-       ocamlc src/datakit-log/datakit_log.{cmi,cmti}
-     ocamlopt bridge/github/datakit_github_api.{cmx,o}
-     ocamlopt bridge/github/datakit_github_state.{cmx,o}
-       ocamlc bridge/github/version.{cmi,cmo,cmt}
-       ocamlc bridge/github/main.{cmi,cmti}
-     ocamlopt src/datakit-log/datakit_log.{cmx,o}
-     ocamlopt bridge/github/datakit_github_sync.{cmx,o}
-     ocamlopt src/datakit-log/datakit_log.{a,cmxa}
-     ocamlopt bridge/github/datakit_bridge_github.{a,cmxa}
-     ocamlopt bridge/github/version.{cmx,o}
-     ocamlopt bridge/github/main.{cmx,o}
-     ocamlopt bridge/github/main.exe
Processing  7/8: [datakit-bridge-github: jbuilder runtest]
+ jbuilder "runtest" "tests/datakit-bridge-github" (CWD=/home/opam/.opam/default/.opam-switch/build/datakit-bridge-github.dev)
-     ocamldep tests/datakit-bridge-github/test.depends.ocamldep-output
-     ocamldep api/ocaml/datakit_client.dependsi.ocamldep-output
-     ocamldep api/ocaml/datakit_client.depends.ocamldep-output
-     ocamldep src/datakit-github/datakit_github.dependsi.ocamldep-output
-     ocamldep src/datakit-io/datakit_io.depends.ocamldep-output
-     ocamldep api/ocaml/9p/datakit_client_9p.depends.ocamldep-output
-     ocamldep src/datakit-server/datakit_server.depends.ocamldep-output
-     ocamldep src/datakit-server-9p/datakit_server_9p.depends.ocamldep-output
-     ocamldep api/ocaml/9p/datakit_client_9p.dependsi.ocamldep-output
-     ocamldep src/datakit-io/datakit_io.dependsi.ocamldep-output
-     ocamldep src/datakit-server-9p/datakit_server_9p.dependsi.ocamldep-output
-     ocamldep tests/common/test.depends.ocamldep-output
-     ocamldep src/datakit-github/datakit_github.depends.ocamldep-output
-     ocamldep src/datakit/datakit.depends.ocamldep-output
-     ocamldep src/datakit-server/datakit_server.dependsi.ocamldep-output
-     ocamldep src/datakit/datakit.dependsi.ocamldep-output
-     ocamldep tests/common/test.dependsi.ocamldep-output
-       ocamlc api/ocaml/datakit_path.{cmi,cmti}
-       ocamlc src/datakit-io/datakit_io.{cmi,cmti}
-       ocamlc src/datakit-server/vfs.{cmi,cmti}
-       ocamlc api/ocaml/datakit_S.{cmi,cmo,cmt}
-       ocamlc src/datakit-server-9p/fs9p.{cmi,cmti}
-       ocamlc src/datakit-server-9p/fs9p_error.{cmi,cmti}
-     ocamlopt api/ocaml/datakit_path.{cmx,o}
-       ocamlc src/datakit/ivfs_blob.{cmi,cmti}
-       ocamlc src/datakit/autopush.{cmi,cmo,cmt}
-       ocamlc api/ocaml/9p/datakit_client_9p.{cmi,cmti}
-     ocamlopt api/ocaml/datakit_S.{cmx,o}
-       ocamlc src/datakit-github/datakit_github.{cmi,cmti}
-     ocamlopt api/ocaml/datakit_client.{a,cmxa}
-     ocamlopt src/datakit-server/vfs.{cmx,o}
-     ocamlopt src/datakit-io/datakit_io.{cmx,o}
-       ocamlc src/datakit-github/datakit_github_conv.{cmi,cmti}
-     ocamlopt src/datakit-server/datakit_server.{a,cmxa}
-     ocamlopt src/datakit-server-9p/fs9p_error.{cmx,o}
-       ocamlc src/datakit/ivfs_tree.{cmi,cmti}
-     ocamlopt src/datakit-io/datakit_io.{a,cmxa}
-     ocamlopt src/datakit/autopush.{cmx,o}
-       ocamlc bridge/github/datakit_github_api.{cmi,cmti}
-     ocamlopt src/datakit/ivfs_blob.{cmx,o}
-       ocamlc bridge/github/datakit_github_state.{cmi,cmti}
-       ocamlc bridge/github/datakit_github_sync.{cmi,cmti}
-       ocamlc src/datakit/ivfs.{cmi,cmti}
-     ocamlopt api/ocaml/9p/datakit_client_9p.{cmx,o}
-       ocamlc src/datakit/ivfs_merge.{cmi,cmti}
-     ocamlopt src/datakit-server-9p/fs9p.{cmx,o}
-       ocamlc src/datakit/ivfs_remote.{cmi,cmti}
-     ocamlopt api/ocaml/9p/datakit_client_9p.{a,cmxa}
-       ocamlc src/datakit/ivfs_rw.{cmi,cmti}
-     ocamlopt src/datakit-server-9p/datakit_server_9p.{a,cmxa}
-       ocamlc tests/common/test_client.{cmi,cmti}
-     ocamlopt src/datakit-github/datakit_github.{cmx,o}
-     ocamlopt src/datakit/ivfs_tree.{cmx,o}
-       ocamlc tests/common/test_utils.{cmi,cmo,cmt}
-     ocamlopt src/datakit/ivfs_merge.{cmx,o}
-     ocamlopt src/datakit/ivfs_remote.{cmx,o}
-     ocamlopt src/datakit/ivfs_rw.{cmx,o}
-     ocamlopt src/datakit-github/datakit_github_conv.{cmx,o}
-     ocamlopt src/datakit-github/datakit_github.{a,cmxa}
-     ocamlopt bridge/github/datakit_github_state.{cmx,o}
-     ocamlopt bridge/github/datakit_github_api.{cmx,o}
-       ocamlc tests/datakit-bridge-github/test.{cmi,cmo,cmt}
-     ocamlopt src/datakit/ivfs.{cmx,o}
-     ocamlopt bridge/github/datakit_github_sync.{cmx,o}
-     ocamlopt src/datakit/datakit.{a,cmxa}
-     ocamlopt bridge/github/datakit_bridge_github.{a,cmxa}
-     ocamlopt tests/common/test_utils.{cmx,o}
-     ocamlopt tests/common/test_client.{cmx,o}
-     ocamlopt tests/common/test.{a,cmxa}
-     ocamlopt tests/datakit-bridge-github/test.{cmx,o}
-     ocamlopt tests/datakit-bridge-github/test.exe
-         test alias tests/datakit-bridge-github/runtest
- /bin/sh: tput: not found
- stty: standard input: Not a tty
- Testing datakit-github.
- [33m ...[m                [36mgithub-9p[m          0   Transaction.[32m[OK][m                [36mgithub-9p[m          0   Transaction.
- [33m ...[m                [36mgithub-9p[m          1   Watch.[32m[OK][m                [36mgithub-9p[m          1   Watch.
- [33m ...[m                [36mgithub-9p[m          2   Make dirs.[32m[OK][m                [36mgithub-9p[m          2   Make dirs.
- [33m ...[m                [36mgithub-9p[m          3   Rename branch.[32m[OK][m                [36mgithub-9p[m          3   Rename branch.
- [33m ...[m                [36mgithub-9p[m          4   Rename dir.[32m[OK][m                [36mgithub-9p[m          4   Rename dir.
- [33m ...[m                [36mgithub-9p[m          5   Rename file.[32m[OK][m                [36mgithub-9p[m          5   Rename file.
- [33m ...[m                [36mgithub-9p[m          6   Truncate.[32m[OK][m                [36mgithub-9p[m          6   Truncate.
- [33m ...[m                [36mgithub-9p[m          7   Parents.[32m[OK][m                [36mgithub-9p[m          7   Parents.
- [33m ...[m                [36mgithub-9p[m          8   Merge.[32m[OK][m                [36mgithub-9p[m          8   Merge.
- [33m ...[m                [36mgithub-9p[m          9   Diff.[32m[OK][m                [36mgithub-9p[m          9   Diff.
- [33m ...[m                [36mgithub-9p[m         10   Merge_metadata.[32m[OK][m                [36mgithub-9p[m         10   Merge_metadata.
- [33m ...[m                [36mgithub-9p[m         11   Merge empty.[32m[OK][m                [36mgithub-9p[m         11   Merge empty.
- [33m ...[m                [36mgithub-9p[m         12   Conflicts.[32m[OK][m                [36mgithub-9p[m         12   Conflicts.
- [33m ...[m                [36mgithub-9p[m         13   Large write.[32m[OK][m                [36mgithub-9p[m         13   Large write.
- [33m ...[m                [36mgithub-9p[m         14   Remove.[32m[OK][m                [36mgithub-9p[m         14   Remove.
- [33m ...[m                [36mgithub-9p[m         15   Remotes.[33m[SKIP][m              [36mgithub-9p[m         15   Remotes.
- [33m ...[m                [36mgithub-9p[m         16   Create_or_replace.[33m[SKIP][m              [36mgithub-9p[m         16   Create_or_replace.
- The full test results are available in `_build/_tests`.
- [32mTest Successful[m in 0.312s. 15 tests run.
-> compiled  datakit-bridge-github.dev
-> installed datakit-bridge-github.dev
Done.
# Run eval `opam env` to update the current shell environment
 ---> a6995d0d0c34
Error removing intermediate container 82b6a4695ea6: No such container: 82b6a4695ea68a18d958fe714e575647f6682808806ad3265ed370f77cf32d04
Step 24/32 : RUN sudo cp $(opam config exec -- which datakit-bridge-github) /usr/bin/
 ---> Running in 180d8c7ad50c
 ---> 5e55117aea26
Removing intermediate container 9ba9c59e50aa
Error removing intermediate container baf0a43dba45: No such container: baf0a43dba453f04c7df54b5358b9469defdf7afa835ad5247068736070d223a
Step 25/32 : USER root
 ---> Running in d4722ec19207
 ---> 8976561fe71b
Error removing intermediate container baf0a43dba45: No such container: baf0a43dba453f04c7df54b5358b9469defdf7afa835ad5247068736070d223a
Step 26/32 : FROM alpine:3.5
3.5: Pulling from library/alpine
Digest: sha256:58e1a1bb75db1b5a24a462dd5e2915277ea06438c3f105138f97eb53149673c4
Status: Image is up to date for alpine:3.5
 ---> 4a415e366388
Error removing intermediate container baf0a43dba45: No such container: baf0a43dba453f04c7df54b5358b9469defdf7afa835ad5247068736070d223a
Step 27/32 : RUN apk add --no-cache libev gmp tzdata ca-certificates
 ---> Using cache
 ---> 5da98e5d42ce
Error removing intermediate container 82b6a4695ea6: No such container: 82b6a4695ea68a18d958fe714e575647f6682808806ad3265ed370f77cf32d04
Step 28/32 : EXPOSE 5640
 ---> Using cache
 ---> bcff9a1ffcf9
Error removing intermediate container baf0a43dba45: No such container: baf0a43dba453f04c7df54b5358b9469defdf7afa835ad5247068736070d223a
Step 29/32 : EXPOSE 5641
 ---> Using cache
 ---> b744f37386bf
Error removing intermediate container 82b6a4695ea6: No such container: 82b6a4695ea68a18d958fe714e575647f6682808806ad3265ed370f77cf32d04
Step 30/32 : ENTRYPOINT /usr/bin/datakit-bridge-github
 ---> Using cache
 ---> 72d8275f4da2
Error removing intermediate container 82b6a4695ea6: No such container: 82b6a4695ea68a18d958fe714e575647f6682808806ad3265ed370f77cf32d04
Step 31/32 : CMD --listen=tcp://0.0.0.0:5641 -v --datakit=tcp:127.0.0.1:5640
 ---> Using cache
 ---> 2e61f29556ca
Removing intermediate container 180d8c7ad50c
Error removing intermediate container 82b6a4695ea6: No such container: 82b6a4695ea68a18d958fe714e575647f6682808806ad3265ed370f77cf32d04
Step 32/32 : COPY --from=0 /usr/bin/datakit-bridge-github /usr/bin/datakit-bridge-github
 ---> aa4a89664444
Error removing intermediate container 82b6a4695ea6: No such container: 82b6a4695ea68a18d958fe714e575647f6682808806ad3265ed370f77cf32d04
Successfully built aa4a89664444
[2017-05-09 14:30.34] Success
