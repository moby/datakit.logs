=== Run docker-build-datakit on commit f399e1e0f5b0fe67ecc6dc47396fe4c3900b8728
[2016-11-03 15:50.36] Starting...
Cloning into '/tmp/with_clone34129e2f'...
done.
HEAD is now at f399e1e ci: add setting to configure a public CI
[2016-11-03 15:50.36] Running "docker" "build" "--pull" "-f" "Dockerfile" "."...
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.804 MB
Step 1 : FROM docker/datakit:server
server: Pulling from docker/datakit
Digest: sha256:1495b9c187762c378d563bc3c5f6c07e3e9e9f972bf0e5f3da9e074be3f7de7c
Status: Image is up to date for docker/datakit:server
 ---> 3c04f2ab3a09
Step 2 : COPY opam /home/opam/src/datakit/opam
 ---> d29e28150a81
Removing intermediate container 4df5c5762e49
Step 3 : RUN opam pin add datakit.dev /home/opam/src/datakit -n
 ---> Running in 1550e4b77980
Package datakit does not exist, create as a NEW package ? [Y/n] y
datakit is now path-pinned to /home/opam/src/datakit

[datakit: local]
[datakit] /home/opam/src/datakit/ synchronized
[datakit] Installing new package description from /home/opam/src/datakit

 ---> d64460e7e1d5
Removing intermediate container 1550e4b77980
Step 4 : RUN opam pin add git --dev -n
 ---> Running in 22477dd0c5d8
git is now git-pinned to https://github.com/mirage/ocaml-git.git

[git: git]
[git: git]
[git: git]
[git: git]
[git: git]
[git: git]
[git] https://github.com/mirage/ocaml-git.git updated
[git] Installing new package description from
https://github.com/mirage/ocaml-git.git

 ---> dbcc8921f542
Removing intermediate container 22477dd0c5d8
Step 5 : RUN opam depext datakit && opam install datakit --deps
 ---> Running in ea0afb7b706f
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - linux-headers
#  - m4
#  - ncurses-dev
#  - openssl-dev
#  - pkgconfig
#  - zlib-dev
m4
ncurses-dev
pkgconfig
# The following new OS packages need to be installed: linux-headers openssl-dev zlib-dev
The following command needs to be run through "sudo":
    apk add linux-headers openssl-dev zlib-dev
(1/3) Installing linux-headers (4.4.6-r1)
(2/3) Installing zlib-dev (1.2.8-r2)
(3/3) Installing openssl-dev (1.0.2j-r0)
OK: 447 MiB in 89 packages
# OS packages installation successful

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit: local] Command started
[datakit] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install mtime           0.8.3    
  - install bin_prot        113.33.03
  - install magic-mime      1.0.0    
  - install uutf            0.9.4    
  - install conduit         0.13.0   
  - install fieldslib       113.33.03
  - install irmin-watcher   0.1.4    
  - install asl             0.10     
  - install camlzip         1.06     
  - install base64          2.1.2    
  - install mstruct         1.3.2    
  - install crunch          1.4.1    
  - install mirage-flow     1.1.0    
  - install hex             1.0.0    
  - install win-eventlog    0.1      
  - install ocamlgraph      1.8.7    
  - install jsonm           0.9.1    
  - install ppx_fields_conv 113.33.03
  - install hvsock          0.10.0   
  - install ezjsonm         0.4.3    
  - install cohttp          0.21.0   
  - install mirage-tc       0.3.0    
  - install git             1.9.2*   
  - install irmin           0.11.1   
===== 24 to install =====
Do you want to continue ? [Y/n] y

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asl: http] Command started
[base64: http] Command started
[bin_prot: http] Command started
[bin_prot: http] Command started
[bin_prot.113.33.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/bin_prot-113.33.03.tar.gz downloaded
[camlzip: http] Command started
[base64: http] Command started
[base64.2.1.2] https://github.com/mirage/ocaml-base64/releases/download/v2.1.2/base64-2.1.2.tbz downloaded
[cohttp: http] Command started
[asl: http] Command started
[asl.0.10] https://github.com/mirage/ocaml-asl/archive/v0.10.tar.gz downloaded
[conduit: http] Command started
[camlzip: http] Command started
[camlzip.1.06] https://forge.ocamlcore.org/frs/download.php/1616/camlzip-1.06.tar.gz downloaded
[crunch: http] Command started
[conduit: http] Command started
[conduit.0.13.0] https://github.com/mirage/ocaml-conduit/archive/v0.13.0.tar.gz downloaded
[ezjsonm: http] Command started
[crunch: http] Command started
[crunch.1.4.1] https://github.com/mirage/ocaml-crunch/archive/v1.4.1.tar.gz downloaded
[fieldslib: http] Command started
[cohttp: http] Command started
[cohttp.0.21.0] https://github.com/mirage/ocaml-cohttp/archive/v0.21.0.tar.gz downloaded
[git: git] Command started
[git: git] Command started
[git: git] Command started
[git: git] Command started
[git] https://github.com/mirage/ocaml-git.git already up-to-date
[hex: http] Command started
[fieldslib: http] Command started
[fieldslib.113.33.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/fieldslib-113.33.03.tar.gz downloaded
[hvsock: http] Command started
[ezjsonm: http] Command started
[ezjsonm.0.4.3] https://github.com/mirage/ezjsonm/archive/0.4.3.tar.gz downloaded
[irmin: http] Command started
[hex: http] Command started
[hex.1.0.0] https://github.com/mirage/ocaml-hex/archive/1.0.0.tar.gz downloaded
[irmin-watcher: http] Command started
[hvsock: http] Command started
[hvsock.0.10.0] https://github.com/djs55/ocaml-hvsock/archive/v0.10.0.tar.gz downloaded
[jsonm: http] Command started
[jsonm: http] Command started
[jsonm.0.9.1] http://erratique.ch/software/jsonm/releases/jsonm-0.9.1.tbz downloaded
[magic-mime: http] Command started
[irmin-watcher: http] Command started
[irmin-watcher.0.1.4] https://github.com/samoht/irmin-watcher/releases/download/0.1.4/irmin-watcher-0.1.4.tbz downloaded
[mirage-flow: http] Command started
[irmin: http] Command started
[irmin.0.11.1] https://github.com/mirage/irmin/archive/0.11.1.tar.gz downloaded
[mirage-tc: http] Command started
[magic-mime: http] Command started
[magic-mime.1.0.0] https://github.com/mirage/ocaml-magic-mime/archive/v1.0.0.tar.gz downloaded
[mstruct: http] Command started
[mirage-flow: http] Command started
[mirage-flow.1.1.0] https://github.com/mirage/mirage-flow/archive/v1.1.0.tar.gz downloaded
[mtime: http] Command started
[mirage-tc: http] Command started
[mirage-tc.0.3.0] https://github.com/mirage/mirage-tc/archive/0.3.0.tar.gz downloaded
[ocamlgraph: http] Command started
[mtime: http] Command started
[mtime.0.8.3] http://erratique.ch/software/mtime/releases/mtime-0.8.3.tbz downloaded
[ppx_fields_conv: http] Command started
[mstruct: http] Command started
[mstruct.1.3.2] https://github.com/mirage/ocaml-mstruct/archive/1.3.2.tar.gz downloaded
[uutf: http] Command started
[uutf: http] Command started
[uutf.0.9.4] http://erratique.ch/software/uutf/releases/uutf-0.9.4.tbz downloaded
[win-eventlog: http] Command started
[ppx_fields_conv: http] Command started
[ppx_fields_conv.113.33.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_fields_conv-113.33.03.tar.gz downloaded
[win-eventlog: http] Command started
[win-eventlog.0.1] https://github.com/djs55/ocaml-win-eventlog/archive/v0.1.tar.gz downloaded
[ocamlgraph: http] Command started
[ocamlgraph.1.8.7] http://ocamlgraph.lri.fr/download/ocamlgraph-1.8.7.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asl: make] Command started
[base64: ocaml build] Command started
[bin_prot: ./configure] Command started
[camlzip: make all] Command started
-> installed base64.2.1.2
[conduit: make] Command started
[camlzip: make allopt] Command started
[bin_prot: make] Command started
[camlzip: make install-findlib] Command started
-> installed camlzip.1.06
[crunch: ocaml setup.ml] Command started
[crunch: ocaml setup.ml] Command started
[conduit: make install] Command started
-> installed conduit.0.13.0
[fieldslib: ./configure] Command started
[asl: make install] Command started
[crunch: ocaml setup.ml] Command started
[fieldslib: make] Command started
-> installed bin_prot.113.33.03
[hex: ./configure] Command started
-> installed asl.0.10
[irmin-watcher: ocaml build] Command started
-> installed crunch.1.4.1
[magic-mime: ./configure] Command started
[hex: make] Command started
[magic-mime: make] Command started
-> installed fieldslib.113.33.03
[mirage-flow: ./configure] Command started
-> installed irmin-watcher.0.1.4
[mstruct: ./configure] Command started
[mirage-flow: make] Command started
[hex: make install] Command started
[magic-mime: make install] Command started
[mstruct: make] Command started
-> installed hex.1.0.0
[mtime: ocaml] Command started
[mtime: ocaml] Command started
-> installed magic-mime.1.0.0
[ocamlgraph: ./configure] Command started
[mstruct: make install] Command started
[mirage-flow: make install] Command started
-> installed mtime.0.8.3
[ppx_fields_conv: ./configure] Command started
[ocamlgraph: make] Command started
-> installed mstruct.1.3.2
[uutf: ocaml] Command started
[uutf: ocaml] Command started
-> installed mirage-flow.1.1.0
[hvsock: ocaml setup.ml] Command started
[ppx_fields_conv: make] Command started
-> installed uutf.0.9.4
[jsonm: ocaml setup.ml] Command started
[hvsock: make] Command started
[jsonm: ocaml setup.ml] Command started
-> installed ppx_fields_conv.113.33.03
[cohttp: make] Command started
[hvsock: make install] Command started
[jsonm: ocaml setup.ml] Command started
[ocamlgraph: make install-findlib] Command started
-> installed ocamlgraph.1.8.7
[win-eventlog: make] Command started
-> installed jsonm.0.9.1
[ezjsonm: ./configure] Command started
-> installed hvsock.0.10.0
[ezjsonm: make] Command started
[win-eventlog: make install] Command started
[ezjsonm: make install] Command started
-> installed win-eventlog.0.1
-> installed ezjsonm.0.4.3
[mirage-tc: ./configure] Command started
[mirage-tc: make] Command started
[mirage-tc: make install] Command started
-> installed mirage-tc.0.3.0
[cohttp: make install] Command started
-> installed cohttp.0.21.0
[git: ocaml build] Command started
-> installed git.1.9.2
[irmin: ./configure] Command started
[irmin: make] Command started
[irmin: make install] Command started
-> installed irmin.0.11.1
Done.
 ---> f5677b0b6eaa
Removing intermediate container ea0afb7b706f
Step 6 : COPY . /home/opam/src/datakit/
 ---> 1845ec9a1cec
Removing intermediate container 70bcc6defe1c
Step 7 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in cb6e06f4e509
 ---> 3f0db6df2375
Removing intermediate container cb6e06f4e509
Step 8 : RUN cd /home/opam/src/datakit &&     git diff && git status --porcelain &&     git checkout . && scripts/watermark.sh &&     git status --porcelain
 ---> Running in 939c010b41ea
 M src/version.ml
 ---> acfabd5adca7
Removing intermediate container 939c010b41ea
Step 9 : RUN opam update datakit
 ---> Running in 170490145b9c

=-=- Synchronizing development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit: local] Command started
[datakit] /home/opam/src/datakit/ synchronized
 ---> b4b5d0293649
Removing intermediate container 170490145b9c
Step 10 : RUN opam install datakit -vv
 ---> Running in 95f3250317e4

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/system/packages.dev/datakit"
- sending incremental file list
- ./
- api/
- ci/
- 
- sent 7,185 bytes  received 50 bytes  14,470.00 bytes/sec
- total size is 1,133,163  speedup is 156.62
[datakit] /home/opam/src/datakit/ synchronized
The following actions will be performed:
  - install datakit dev*

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/system/packages.dev/datakit"
- sending incremental file list
- ./
- 
- sent 7,179 bytes  received 44 bytes  14,446.00 bytes/sec
- total size is 1,133,163  speedup is 156.88
[datakit.dev] /home/opam/src/datakit/ already up-to-date

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit: ocaml build] Command started
+ ocaml "pkg/pkg.ml" "build" "--pinned" "true" "--tests" "false" (CWD=/home/opam/.opam/system/build/datakit.dev)
- ocamlfind ocamlopt unix.cmxa -I /usr/lib/ocaml/ocamlbuild /usr/lib/ocaml/ocamlbuild/ocamlbuildlib.cmxa -linkpkg myocamlbuild.ml /usr/lib/ocaml/ocamlbuild/ocamlbuild.cmx -o myocamlbuild
- ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs.ml > src/datakit/ivfs.ml.depends
- ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs.mli > src/datakit/ivfs.mli.depends
- ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs_tree.mli > src/datakit/ivfs_tree.mli.depends
- ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs_blob.mli > src/datakit/ivfs_blob.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs_blob.cmi src/datakit/ivfs_blob.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs_tree.cmi src/datakit/ivfs_tree.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs.cmi src/datakit/ivfs.mli
- ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs_blob.ml > src/datakit/ivfs_blob.ml.depends
- ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs_merge.ml > src/datakit/ivfs_merge.ml.depends
- ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs_merge.mli > src/datakit/ivfs_merge.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs_merge.cmi src/datakit/ivfs_merge.mli
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs_blob.cmx src/datakit/ivfs_blob.ml
- ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs_tree.ml > src/datakit/ivfs_tree.ml.depends
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs_tree.cmx src/datakit/ivfs_tree.ml
- ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs_remote.ml > src/datakit/ivfs_remote.ml.depends
- ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs_remote.mli > src/datakit/ivfs_remote.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs_remote.cmi src/datakit/ivfs_remote.mli
- ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs_rw.ml > src/datakit/ivfs_rw.ml.depends
- ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ivfs_rw.mli > src/datakit/ivfs_rw.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs_rw.cmi src/datakit/ivfs_rw.mli
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs_merge.cmx src/datakit/ivfs_merge.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs_remote.cmx src/datakit/ivfs_remote.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs_rw.cmx src/datakit/ivfs_rw.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs.cmx src/datakit/ivfs.ml
- ocamlfind ocamlopt -a -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' src/datakit/ivfs_blob.cmx src/datakit/ivfs_tree.cmx src/datakit/ivfs_merge.cmx src/datakit/ivfs_remote.cmx src/datakit/ivfs_rw.cmx src/datakit/ivfs.cmx -o src/datakit/ivfs.cmxa
- ocamlfind ocamlopt -shared -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' src/datakit/ivfs.cmx -o src/datakit/ivfs.cmxs
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs.cmo src/datakit/ivfs.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs_tree.cmo src/datakit/ivfs_tree.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs_remote.cmo src/datakit/ivfs_remote.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs_blob.cmo src/datakit/ivfs_blob.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs_merge.cmo src/datakit/ivfs_merge.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ivfs_rw.cmo src/datakit/ivfs_rw.ml
- ocamlfind ocamlc -a -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'irmin tc datakit-server.vfs' -package 'bytes lwt astring logs result cstruct fmt rresult' src/datakit/ivfs_blob.cmo src/datakit/ivfs_tree.cmo src/datakit/ivfs_merge.cmo src/datakit/ivfs_remote.cmo src/datakit/ivfs_rw.cmo src/datakit/ivfs.cmo -o src/datakit/ivfs.cma
- ocamlfind ocamldep -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'protocol-9p.unix camlzip' -package 'datakit-server.vfs datakit-server.fs9p' -package 'irmin.http cohttp.lwt' -package 'git irmin irmin.git irmin.mem irmin-watcher' -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/main.ml > src/datakit/main.ml.depends
- ocamlfind ocamldep -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit_conduit.mli > src/datakit_conduit.mli.depends
- ocamlfind ocamldep -package 'asl win-eventlog cmdliner logs.cli mtime.os' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit_log.mli > src/datakit_log.mli.depends
- ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ir_io.mli > src/datakit/ir_io.mli.depends
- ocamlfind ocamldep -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/version.ml > src/version.ml.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -thread -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src -I ci/src -I src/datakit -o src/datakit_conduit.cmi src/datakit_conduit.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'asl win-eventlog cmdliner logs.cli mtime.os' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src -I ci/src -I src/datakit -o src/datakit_log.cmi src/datakit_log.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ir_io.cmi src/datakit/ir_io.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src -I ci/src -I src/datakit -o src/version.cmo src/version.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -thread -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'protocol-9p.unix camlzip' -package 'datakit-server.vfs datakit-server.fs9p' -package 'irmin.http cohttp.lwt' -package 'git irmin irmin.git irmin.mem irmin-watcher' -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/main.cmo src/datakit/main.ml
- ocamlfind ocamldep -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit_conduit.ml > src/datakit_conduit.ml.depends
- ocamlfind ocamldep -package 'asl win-eventlog cmdliner logs.cli mtime.os' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit_log.ml > src/datakit_log.ml.depends
- ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit/ir_io.ml > src/datakit/ir_io.ml.depends
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -thread -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src -I ci/src -I src/datakit -o src/datakit_conduit.cmx src/datakit_conduit.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'asl win-eventlog cmdliner logs.cli mtime.os' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src -I ci/src -I src/datakit -o src/datakit_log.cmx src/datakit_log.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/ir_io.cmx src/datakit/ir_io.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src -I ci/src -I src/datakit -o src/version.cmx src/version.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -thread -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'protocol-9p.unix camlzip' -package 'datakit-server.vfs datakit-server.fs9p' -package 'irmin.http cohttp.lwt' -package 'git irmin irmin.git irmin.mem irmin-watcher' -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit -I src -I ci/src -o src/datakit/main.cmx src/datakit/main.ml
- ocamlfind ocamlopt -linkpkg -g -thread -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'protocol-9p.unix camlzip' -package 'datakit-server.vfs datakit-server.fs9p' -package 'irmin.http cohttp.lwt' -package 'git irmin irmin.git irmin.mem irmin-watcher' -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'bytes lwt astring logs result cstruct fmt rresult' src/datakit/ir_io.cmx src/datakit/ivfs_blob.cmx src/datakit/ivfs_tree.cmx src/datakit/ivfs_merge.cmx src/datakit/ivfs_remote.cmx src/datakit/ivfs_rw.cmx src/datakit/ivfs.cmx src/datakit_conduit.cmx src/datakit_log.cmx src/version.cmx src/datakit/main.cmx -o src/datakit/main.native
- ocamlfind ocamldep -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -modules src/datakit-client/mount.ml > src/datakit-client/mount.ml.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit-client -I src -I ci/src -I src/datakit -o src/datakit-client/mount.cmo src/datakit-client/mount.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49 -w A-3-4-41-44 -I src/datakit-client -I src -I ci/src -I src/datakit -o src/datakit-client/mount.cmx src/datakit-client/mount.ml
- ocamlfind ocamlopt -linkpkg -g -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' src/version.cmx src/datakit-client/mount.cmx -o src/datakit-client/mount.native
+ install "-m" "0755" "/home/opam/.opam/system/build/datakit.dev/_build/src/datakit-client/mount.native" "/home/opam/.opam/system/bin/datakit-mount"
+ install "-m" "0755" "/home/opam/.opam/system/build/datakit.dev/_build/src/datakit/main.native" "/home/opam/.opam/system/bin/datakit"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/opam" "/home/opam/.opam/system/lib/datakit/opam"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/pkg/META" "/home/opam/.opam/system/lib/datakit/META"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/src/datakit/ivfs.a" "/home/opam/.opam/system/lib/datakit/ivfs.a"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/src/datakit/ivfs.cma" "/home/opam/.opam/system/lib/datakit/ivfs.cma"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/src/datakit/ivfs.cmi" "/home/opam/.opam/system/lib/datakit/ivfs.cmi"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/src/datakit/ivfs.cmti" "/home/opam/.opam/system/lib/datakit/ivfs.cmti"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/src/datakit/ivfs.cmx" "/home/opam/.opam/system/lib/datakit/ivfs.cmx"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/src/datakit/ivfs.cmxa" "/home/opam/.opam/system/lib/datakit/ivfs.cmxa"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/src/datakit/ivfs.cmxs" "/home/opam/.opam/system/lib/datakit/ivfs.cmxs"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/src/datakit/ivfs.mli" "/home/opam/.opam/system/lib/datakit/ivfs.mli"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/src/datakit/ivfs_blob.cmi" "/home/opam/.opam/system/lib/datakit/ivfs_blob.cmi"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/src/datakit/ivfs_blob.cmti" "/home/opam/.opam/system/lib/datakit/ivfs_blob.cmti"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/src/datakit/ivfs_blob.cmx" "/home/opam/.opam/system/lib/datakit/ivfs_blob.cmx"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/src/datakit/ivfs_blob.mli" "/home/opam/.opam/system/lib/datakit/ivfs_blob.mli"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/src/datakit/ivfs_merge.cmi" "/home/opam/.opam/system/lib/datakit/ivfs_merge.cmi"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/src/datakit/ivfs_merge.cmti" "/home/opam/.opam/system/lib/datakit/ivfs_merge.cmti"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/src/datakit/ivfs_merge.cmx" "/home/opam/.opam/system/lib/datakit/ivfs_merge.cmx"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/src/datakit/ivfs_merge.mli" "/home/opam/.opam/system/lib/datakit/ivfs_merge.mli"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/src/datakit/ivfs_remote.cmi" "/home/opam/.opam/system/lib/datakit/ivfs_remote.cmi"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/src/datakit/ivfs_remote.cmti" "/home/opam/.opam/system/lib/datakit/ivfs_remote.cmti"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/src/datakit/ivfs_remote.cmx" "/home/opam/.opam/system/lib/datakit/ivfs_remote.cmx"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/src/datakit/ivfs_remote.mli" "/home/opam/.opam/system/lib/datakit/ivfs_remote.mli"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/src/datakit/ivfs_rw.cmi" "/home/opam/.opam/system/lib/datakit/ivfs_rw.cmi"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/src/datakit/ivfs_rw.cmti" "/home/opam/.opam/system/lib/datakit/ivfs_rw.cmti"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/src/datakit/ivfs_rw.cmx" "/home/opam/.opam/system/lib/datakit/ivfs_rw.cmx"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/src/datakit/ivfs_rw.mli" "/home/opam/.opam/system/lib/datakit/ivfs_rw.mli"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/src/datakit/ivfs_tree.cmi" "/home/opam/.opam/system/lib/datakit/ivfs_tree.cmi"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/src/datakit/ivfs_tree.cmti" "/home/opam/.opam/system/lib/datakit/ivfs_tree.cmti"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/src/datakit/ivfs_tree.cmx" "/home/opam/.opam/system/lib/datakit/ivfs_tree.cmx"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/src/datakit/ivfs_tree.mli" "/home/opam/.opam/system/lib/datakit/ivfs_tree.mli"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/CHANGES.md" "/home/opam/.opam/system/doc/datakit/CHANGES.md"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/LICENSE.md" "/home/opam/.opam/system/doc/datakit/LICENSE.md"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit.dev/_build/README.md" "/home/opam/.opam/system/doc/datakit/README.md"
-> installed datakit.dev
Done.
 ---> 724e8eff540d
Removing intermediate container 95f3250317e4
Step 11 : EXPOSE 5640
 ---> Running in 94e5bd9cbea5
 ---> 4f2621cfd108
Removing intermediate container 94e5bd9cbea5
Step 12 : RUN sudo mkdir /data && sudo chown opam.nogroup /data && chmod 700 /data &&     sudo cp $(opam config exec -- which datakit) /usr/bin/datakit &&     sudo cp $(opam config exec -- which datakit-mount) /usr/bin/datakit-mount
 ---> Running in b4b9abd57973
 ---> 2a7f51c6cc90
Removing intermediate container b4b9abd57973
Step 13 : RUN opam config exec -- ocaml /home/opam/src/datakit/check-libev.ml
 ---> Running in 02f7e9c5c0f4
 ---> 88e1e3a28b2c
Removing intermediate container 02f7e9c5c0f4
Step 14 : ENTRYPOINT /usr/bin/datakit
 ---> Running in bb03248a12ed
 ---> 66342cc79818
Removing intermediate container bb03248a12ed
Step 15 : CMD --url=tcp://0.0.0.0:5640 --git=/data -v
 ---> Running in 4062eebca5bf
 ---> 9d54c277ff49
Removing intermediate container 4062eebca5bf
Successfully built 9d54c277ff49
[2016-11-03 15:52.45] Success
