=== Docker build Dockerfile
[2017-04-18 17:36.12] Starting...
Cloning into '/tmp/with_clone1d16ef0c'...
done.
warning: remote HEAD refers to nonexistent ref, unable to checkout.

HEAD is now at d7ac959 self-ci: update for new project location
[2017-04-18 17:36.13] Rewrite Dockerfile's first line to:
FROM sha256:9494f752860765815757ddc927fdb243fe814918ade67167064f6ea9536b85a2
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.087 MB
Step 1/15 : FROM sha256:9494f752860765815757ddc927fdb243fe814918ade67167064f6ea9536b85a2
 ---> 9494f7528607
Step 2/15 : COPY opam /home/opam/src/datakit/opam
 ---> Using cache
 ---> f0ccb35377a7
Step 3/15 : RUN opam pin add datakit.dev /home/opam/src/datakit -n
 ---> Using cache
 ---> 0f75249e4d5f
Step 4/15 : RUN opam pin add datakit-github.dev /home/opam/src/datakit -n
 ---> Using cache
 ---> 4df1002dfdcc
Step 5/15 : RUN opam depext datakit && opam install datakit -y --deps
 ---> Running in 185d2b9b4ffa
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - gmp-dev
#  - linux-headers
#  - m4
#  - ncurses-dev
#  - openssl-dev
#  - pcre-dev
#  - perl
#  - pkgconfig
#  - zlib-dev
m4
ncurses-dev
pcre-dev
pkgconf
# The following new OS packages need to be installed: gmp-dev linux-headers openssl-dev perl zlib-dev
The following command needs to be run through "sudo":
    apk add gmp-dev linux-headers openssl-dev perl zlib-dev
(1/8) Installing libgmpxx (6.1.1-r0)
(2/8) Installing gmp-dev (6.1.1-r0)
(3/8) Installing linux-headers (4.4.6-r1)
(4/8) Installing zlib-dev (1.2.8-r2)
(5/8) Installing libcrypto1.0 (1.0.2k-r0)
(6/8) Installing libssl1.0 (1.0.2k-r0)
(7/8) Installing openssl-dev (1.0.2k-r0)
(8/8) Installing perl (5.24.0-r0)
Executing busybox-1.25.1-r0.trigger
OK: 644 MiB in 104 packages
# OS packages installation successful

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[91m[NOTE] Ignoring uncommitted changes in /home/opam/src/datakit (`--working-dir' not active).
[0m[datakit.dev] no changes from git+file:///home/opam/src/datakit#master
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit/opam from 1.2 to 2.0~beta
[0m
The following actions will be performed:
  - install asl             0.10
  - install win-eventlog    0.1
  - install camlzip         1.07
  - install irmin-watcher   0.2.0
  - install uchar           0.0.1
  - install mtime           0.8.4
  - install base64          2.1.2
  - install mirage-flow     1.1.0
  - install ocamlgraph      1.8.7
  - install bin_prot        113.33.00+4.03
  - install fieldslib       113.24.00
  - install magic-mime      1.0.0
  - install crunch          2.0.0
  - install hex             1.0.0
  - install duration        0.1.0
  - install conduit         0.14.5
  - install mstruct         1.3.2
  - install uutf            1.0.1
  - install ppx_fields_conv 113.33.00+4.03
  - install hvsock          0.11.1
  - install jsonm           1.0.1
  - install cohttp          0.21.1
  - install ezjsonm         0.4.3
  - install prometheus-app  0.1
  - install git             1.9.3
  - install mirage-tc       0.3.0
  - install irmin           0.12.0
===== 27 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[bin_prot.113.33.00+4.03] downloaded from https://ocaml.janestreet.com/ocaml-core/113.33/files/bin_prot-113.33.00+4.03.tar.gz
[base64.2.1.2] downloaded from https://github.com/mirage/ocaml-base64/releases/download/v2.1.2/base64-2.1.2.tbz
[asl.0.10] downloaded from https://github.com/mirage/ocaml-asl/archive/v0.10.tar.gz
[camlzip.1.07] downloaded from https://github.com/xavierleroy/camlzip/archive/rel107.zip
[conduit.0.14.5] downloaded from https://github.com/mirage/ocaml-conduit/archive/v0.14.5.tar.gz
[cohttp.0.21.1] downloaded from https://github.com/mirage/ocaml-cohttp/archive/v0.21.1.tar.gz
[crunch.2.0.0] downloaded from https://github.com/mirage/ocaml-crunch/releases/download/2.0.0/crunch-2.0.0.tbz
[duration.0.1.0] downloaded from https://github.com/hannesm/duration/releases/download/0.1.0/duration-0.1.0.tbz
[ezjsonm.0.4.3] downloaded from https://github.com/mirage/ezjsonm/archive//0.4.3.tar.gz
[fieldslib.113.24.00] downloaded from https://ocaml.janestreet.com/ocaml-core/113.24/files/fieldslib-113.24.00.tar.gz
[hex.1.0.0] downloaded from https://github.com/mirage/ocaml-hex/archive/1.0.0.tar.gz
[hvsock.0.11.1] downloaded from https://github.com/mirage/ocaml-hvsock/archive/v0.11.1.tar.gz
[git.1.9.3] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.9.3/git-1.9.3.tbz
[jsonm.1.0.1] downloaded from http://erratique.ch/software/jsonm/releases/jsonm-1.0.1.tbz
[irmin-watcher.0.2.0] downloaded from https://github.com/samoht/irmin-watcher/releases/download/0.2.0/irmin-watcher-0.2.0.tbz
[magic-mime.1.0.0] downloaded from https://github.com/mirage/ocaml-magic-mime/archive/v1.0.0.tar.gz
[irmin.0.12.0] downloaded from https://github.com/mirage/irmin/releases/download/0.12.0/irmin-0.12.0.tbz
[mirage-flow.1.1.0] downloaded from https://github.com/mirage/mirage-flow/archive/v1.1.0.tar.gz
[mtime.0.8.4] downloaded from http://erratique.ch/software/mtime/releases/mtime-0.8.4.tbz
[ocamlgraph.1.8.7] downloaded from http://ocamlgraph.lri.fr/download/ocamlgraph-1.8.7.tar.gz
[mstruct.1.3.2] downloaded from https://github.com/mirage/ocaml-mstruct/archive/1.3.2.tar.gz
[prometheus-app.0.1] found in cache
[mirage-tc.0.3.0] downloaded from https://github.com/mirage/mirage-tc/archive//0.3.0.tar.gz
[uutf.1.0.1] downloaded from http://erratique.ch/software/uutf/releases/uutf-1.0.1.tbz
[ppx_fields_conv.113.33.00+4.03] downloaded from https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_fields_conv-113.33.00+4.03.tar.gz
[uchar.0.0.1] downloaded from https://github.com/ocaml/uchar/releases/download/v0.0.1/uchar-0.0.1.tbz
[win-eventlog.0.1] downloaded from https://github.com/djs55/ocaml-win-eventlog/archive/v0.1.tar.gz

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> installed asl.0.10
-> installed base64.2.1.2
-> installed bin_prot.113.33.00+4.03
-> installed camlzip.1.07
-> installed conduit.0.14.5
-> installed crunch.2.0.0
-> installed duration.0.1.0
-> installed fieldslib.113.24.00
-> installed hex.1.0.0
-> installed irmin-watcher.0.2.0
-> installed magic-mime.1.0.0
-> installed mirage-flow.1.1.0
-> installed hvsock.0.11.1
-> installed mstruct.1.3.2
-> installed mtime.0.8.4
-> installed ocamlgraph.1.8.7
-> installed ppx_fields_conv.113.33.00+4.03
-> installed cohttp.0.21.1
-> installed git.1.9.3
-> installed prometheus-app.0.1
-> installed uchar.0.0.1
-> installed uutf.1.0.1
-> installed jsonm.1.0.1
-> installed ezjsonm.0.4.3
-> installed mirage-tc.0.3.0
-> installed irmin.0.12.0
-> installed win-eventlog.0.1
Done.
# Run eval `opam env` to update the current shell environment
 ---> dc68040d5828
Removing intermediate container 185d2b9b4ffa
Step 6/15 : COPY . /home/opam/src/datakit/
 ---> 3fdd6f9b1be8
Removing intermediate container 73e03a3a39e9
Step 7/15 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in 50a9c779d2d6
 ---> b81ceb7c06ee
Removing intermediate container 50a9c779d2d6
Step 8/15 : RUN cd /home/opam/src/datakit &&     git diff && git status --porcelain &&     git checkout . && scripts/watermark.sh &&     git status --porcelain
 ---> Running in 79c35957bbe9
diff --git a/Dockerfile b/Dockerfile
index 33277c4..505390f 100644
--- a/Dockerfile
+++ b/Dockerfile
@@ -1,4 +1,4 @@
-FROM docker/datakit:server
+FROM sha256:9494f752860765815757ddc927fdb243fe814918ade67167064f6ea9536b85a2
 
 COPY opam /home/opam/src/datakit/opam
 RUN opam pin add datakit.dev /home/opam/src/datakit -n
 M Dockerfile
 M src/version.ml
 ---> f1c4ba951d35
Removing intermediate container 79c35957bbe9
Step 9/15 : RUN opam update datakit
 ---> Running in b8c200b87b1e

=-=- Synchronizing development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[91m[NOTE] Ignoring uncommitted changes in /home/opam/src/datakit (`--working-dir' not active).
[0m[datakit.dev] no changes from git+file:///home/opam/src/datakit#master
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit/opam from 1.2 to 2.0~beta
[0mNow run 'opam upgrade' to apply any package updates.
 ---> 2b0644e9c2bd
Removing intermediate container b8c200b87b1e
Step 10/15 : RUN opam install datakit -vv -y
 ---> Running in 5a0ef1212d7c

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/1:
+ git "symbolic-ref" "--quiet" "--short" "HEAD" (CWD=/home/opam/src/datakit)
- master
+ git "diff" "--quiet" (CWD=/home/opam/src/datakit)
[91m[NOTE] Ignoring uncommitted changes in /home/opam/src/datakit (`--working-dir' not active).
[0mProcessing  1/1: [datakit.dev: git]
+ git "fetch" "-q" "file:///home/opam/src/datakit" "--update-shallow" "+master:refs/remotes/opam-ref-master" (CWD=/home/opam/.opam/default/.opam-switch/sources/datakit)
+ git "diff" "--quiet" "refs/remotes/opam-ref-master" "--" (CWD=/home/opam/.opam/default/.opam-switch/sources/datakit)
[datakit.dev] no changes from git+file:///home/opam/src/datakit#master
[91m[NOTE] Converting format of /home/opam/.opam/default/.opam-switch/sources/datakit/opam from 1.2 to 2.0~beta
[0m
+ uname "-m"
- x86_64
+ ocamlc "-vnum"
- 4.04.0
The following actions will be performed:
  - install datakit dev*
+ git "init" (CWD=/home/opam/.opam/default/.opam-switch/sources/datakit)
- Initialized empty Git repository in /home/opam/.opam/default/.opam-switch/sources/datakit/.git/
+ git "config" "--local" "fetch.prune" "false" (CWD=/home/opam/.opam/default/.opam-switch/sources/datakit)
+ git "fetch" "-q" "file:///home/opam/src/datakit" "--update-shallow" "+master:refs/remotes/opam-ref-master" (CWD=/home/opam/.opam/default/.opam-switch/sources/datakit)
+ git "reset" "--hard" "refs/remotes/opam-ref-master" "--" (CWD=/home/opam/.opam/default/.opam-switch/sources/datakit)
- HEAD is now at d7ac959 self-ci: update for new project location
[datakit.dev] synchronised from git+file:///home/opam/src/datakit#master

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/2: [datakit: ocaml build]
+ ocaml "pkg/pkg.ml" "build" "--pinned" "true" "--tests" "false" (CWD=/home/opam/.opam/default/.opam-switch/build/datakit.dev)
- pkg.ml: [WARNING] Watermarks: OPAM fields of opam: topkg: no such command. Did you install topkg-care ?
- pkg.ml: [WARNING] file opam: opam field "maintainer" undefined or unsupported
- pkg.ml: [WARNING] file opam: opam field "authors" undefined or unsupported
- pkg.ml: [WARNING] file opam: opam field "homepage" undefined or unsupported
- pkg.ml: [WARNING] file opam: opam field "bug-reports" undefined or unsupported
- pkg.ml: [WARNING] file opam: opam field "doc" undefined or unsupported
- pkg.ml: [WARNING] file opam: opam field "license" undefined or unsupported
- pkg.ml: [WARNING] file opam: opam field "dev-repo" undefined or unsupported
- ocamlfind ocamlopt unix.cmxa -I /home/opam/.opam/default/lib/ocamlbuild /home/opam/.opam/default/lib/ocamlbuild/ocamlbuildlib.cmxa -linkpkg myocamlbuild.ml /home/opam/.opam/default/lib/ocamlbuild/ocamlbuild.cmx -o myocamlbuild
- ocamlfind ocamldep -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs.ml > src/datakit/ivfs.ml.depends
- ocamlfind ocamldep -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs.mli > src/datakit/ivfs.mli.depends
- ocamlfind ocamldep -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs_tree.mli > src/datakit/ivfs_tree.mli.depends
- ocamlfind ocamldep -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs_blob.mli > src/datakit/ivfs_blob.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_blob.cmi src/datakit/ivfs_blob.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_tree.cmi src/datakit/ivfs_tree.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs.cmi src/datakit/ivfs.mli
- ocamlfind ocamldep -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs_blob.ml > src/datakit/ivfs_blob.ml.depends
- ocamlfind ocamldep -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs_merge.ml > src/datakit/ivfs_merge.ml.depends
- ocamlfind ocamldep -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs_merge.mli > src/datakit/ivfs_merge.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_merge.cmi src/datakit/ivfs_merge.mli
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_blob.cmx src/datakit/ivfs_blob.ml
- ocamlfind ocamldep -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs_tree.ml > src/datakit/ivfs_tree.ml.depends
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_tree.cmx src/datakit/ivfs_tree.ml
- ocamlfind ocamldep -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs_remote.ml > src/datakit/ivfs_remote.ml.depends
- ocamlfind ocamldep -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs_remote.mli > src/datakit/ivfs_remote.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_remote.cmi src/datakit/ivfs_remote.mli
- ocamlfind ocamldep -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs_rw.ml > src/datakit/ivfs_rw.ml.depends
- ocamlfind ocamldep -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/ivfs_rw.mli > src/datakit/ivfs_rw.mli.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_rw.cmi src/datakit/ivfs_rw.mli
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_merge.cmx src/datakit/ivfs_merge.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_remote.cmx src/datakit/ivfs_remote.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_rw.cmx src/datakit/ivfs_rw.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs.cmx src/datakit/ivfs.ml
- ocamlfind ocamlopt -a -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -I src/datakit src/datakit/ivfs_blob.cmx src/datakit/ivfs_tree.cmx src/datakit/ivfs_merge.cmx src/datakit/ivfs_remote.cmx src/datakit/ivfs_rw.cmx src/datakit/ivfs.cmx -o src/datakit/ivfs.cmxa
- ocamlfind ocamlopt -shared -linkall -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -I src/datakit src/datakit/ivfs.cmxa -o src/datakit/ivfs.cmxs
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs.cmo src/datakit/ivfs.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_tree.cmo src/datakit/ivfs_tree.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_remote.cmo src/datakit/ivfs_remote.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_blob.cmo src/datakit/ivfs_blob.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_merge.cmo src/datakit/ivfs_merge.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/ivfs_rw.cmo src/datakit/ivfs_rw.ml
- ocamlfind ocamlc -a -package prometheus-app.unix -package 'irmin tc datakit-server.vfs asetmap' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -I src/datakit src/datakit/ivfs_blob.cmo src/datakit/ivfs_tree.cmo src/datakit/ivfs_merge.cmo src/datakit/ivfs_remote.cmo src/datakit/ivfs_rw.cmo src/datakit/ivfs.cmo -o src/datakit/ivfs.cma
- ocamlfind ocamldep -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'protocol-9p.unix camlzip' -package 'irmin.http cohttp.lwt irmin-watcher' -package 'git irmin irmin.git irmin.mem irmin-watcher' -package 'cmdliner fmt.cli fmt.tty logs.fmt asetmap' -package prometheus-app.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/main.ml > src/datakit/main.ml.depends
- ocamlfind ocamldep -package prometheus-app.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit/autopush.ml > src/datakit/autopush.ml.depends
- ocamlfind ocamldep -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit_conduit.mli > src/datakit_conduit.mli.depends
- ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit_io.mli > src/datakit_io.mli.depends
- ocamlfind ocamldep -package 'asl win-eventlog cmdliner logs.cli mtime.os prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit_log.mli > src/datakit_log.mli.depends
- ocamlfind ocamldep -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/version.ml > src/version.ml.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/autopush.cmo src/datakit/autopush.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -thread -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src -I src/datakit -o src/datakit_conduit.cmi src/datakit_conduit.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src -I src/datakit -o src/datakit_io.cmi src/datakit_io.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'asl win-eventlog cmdliner logs.cli mtime.os prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src -I src/datakit -o src/datakit_log.cmi src/datakit_log.mli
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src -I src/datakit -o src/version.cmo src/version.ml
- ocamlfind ocamlc -c -g -bin-annot -safe-string -thread -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'protocol-9p.unix camlzip' -package 'irmin.http cohttp.lwt irmin-watcher' -package 'git irmin irmin.git irmin.mem irmin-watcher' -package 'cmdliner fmt.cli fmt.tty logs.fmt asetmap' -package prometheus-app.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/main.cmo src/datakit/main.ml
- ocamlfind ocamldep -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit_conduit.ml > src/datakit_conduit.ml.depends
- ocamlfind ocamldep -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit_io.ml > src/datakit_io.ml.depends
- ocamlfind ocamldep -package 'asl win-eventlog cmdliner logs.cli mtime.os prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit_log.ml > src/datakit_log.ml.depends
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package prometheus-app.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/autopush.cmx src/datakit/autopush.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -thread -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package protocol-9p.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src -I src/datakit -o src/datakit_conduit.cmx src/datakit_conduit.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'conduit.lwt-unix irmin lwt.unix uri camlzip git tc' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src -I src/datakit -o src/datakit_io.cmx src/datakit_io.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'asl win-eventlog cmdliner logs.cli mtime.os prometheus' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src -I src/datakit -o src/datakit_log.cmx src/datakit_log.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src -I src/datakit -o src/version.cmx src/version.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -thread -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'protocol-9p.unix camlzip' -package 'irmin.http cohttp.lwt irmin-watcher' -package 'git irmin irmin.git irmin.mem irmin-watcher' -package 'cmdliner fmt.cli fmt.tty logs.fmt asetmap' -package prometheus-app.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src -o src/datakit/main.cmx src/datakit/main.ml
- ocamlfind ocamlopt -linkpkg -g -thread -package 'asl win-eventlog cmdliner mtime.os logs.cli' -package 'protocol-9p.unix datakit-server.fs9p' -package 'hvsock.lwt-unix named-pipe.lwt uri mirage-flow' -package 'threads conduit.lwt-unix hvsock.lwt' -package 'protocol-9p.unix camlzip' -package 'irmin.http cohttp.lwt irmin-watcher' -package 'git irmin irmin.git irmin.mem irmin-watcher' -package 'cmdliner fmt.cli fmt.tty logs.fmt asetmap' -package prometheus-app.unix -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -I src/datakit -I src src/datakit/autopush.cmx src/datakit/ivfs_blob.cmx src/datakit/ivfs_tree.cmx src/datakit/ivfs_merge.cmx src/datakit/ivfs_remote.cmx src/datakit/ivfs_rw.cmx src/datakit/ivfs.cmx src/datakit_conduit.cmx src/datakit_io.cmx src/datakit_log.cmx src/version.cmx src/datakit/main.cmx -o src/datakit/main.native
- ocamlfind ocamldep -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -modules src/datakit-client/mount.ml > src/datakit-client/mount.ml.depends
- ocamlfind ocamlc -c -g -bin-annot -safe-string -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit-client -I src -I src/datakit -o src/datakit-client/mount.cmo src/datakit-client/mount.ml
- ocamlfind ocamlopt -c -g -bin-annot -safe-string -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -warn-error +1..49-3 -w A-4-41-44 -package datakit-server.vfs,datakit-server.fs9p -I src/datakit-client -I src -I src/datakit -o src/datakit-client/mount.cmx src/datakit-client/mount.ml
- ocamlfind ocamlopt -linkpkg -g -package 'cmdliner fmt.cli fmt.tty logs.fmt' -package 'protocol-9p uri' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-server.vfs,datakit-server.fs9p -I src -I src/datakit-client src/version.cmx src/datakit-client/mount.cmx -o src/datakit-client/mount.native
- pkg.ml: [WARNING] Package description has 8 warning(s), see log above.
-> compiled  datakit.dev
+ install "-m" "0755" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit-client/mount.native" "/home/opam/.opam/default/bin/datakit-mount"
+ install "-m" "0755" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/main.native" "/home/opam/.opam/default/bin/datakit"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/opam" "/home/opam/.opam/default/lib/datakit/opam"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/pkg/META" "/home/opam/.opam/default/lib/datakit/META"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs.a" "/home/opam/.opam/default/lib/datakit/ivfs.a"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs.cma" "/home/opam/.opam/default/lib/datakit/ivfs.cma"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs.cmi" "/home/opam/.opam/default/lib/datakit/ivfs.cmi"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs.cmti" "/home/opam/.opam/default/lib/datakit/ivfs.cmti"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs.cmx" "/home/opam/.opam/default/lib/datakit/ivfs.cmx"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs.cmxa" "/home/opam/.opam/default/lib/datakit/ivfs.cmxa"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs.cmxs" "/home/opam/.opam/default/lib/datakit/ivfs.cmxs"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs.mli" "/home/opam/.opam/default/lib/datakit/ivfs.mli"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_blob.cmi" "/home/opam/.opam/default/lib/datakit/ivfs_blob.cmi"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_blob.cmti" "/home/opam/.opam/default/lib/datakit/ivfs_blob.cmti"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_blob.cmx" "/home/opam/.opam/default/lib/datakit/ivfs_blob.cmx"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_blob.mli" "/home/opam/.opam/default/lib/datakit/ivfs_blob.mli"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_merge.cmi" "/home/opam/.opam/default/lib/datakit/ivfs_merge.cmi"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_merge.cmti" "/home/opam/.opam/default/lib/datakit/ivfs_merge.cmti"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_merge.cmx" "/home/opam/.opam/default/lib/datakit/ivfs_merge.cmx"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_merge.mli" "/home/opam/.opam/default/lib/datakit/ivfs_merge.mli"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_remote.cmi" "/home/opam/.opam/default/lib/datakit/ivfs_remote.cmi"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_remote.cmti" "/home/opam/.opam/default/lib/datakit/ivfs_remote.cmti"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_remote.cmx" "/home/opam/.opam/default/lib/datakit/ivfs_remote.cmx"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_remote.mli" "/home/opam/.opam/default/lib/datakit/ivfs_remote.mli"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_rw.cmi" "/home/opam/.opam/default/lib/datakit/ivfs_rw.cmi"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_rw.cmti" "/home/opam/.opam/default/lib/datakit/ivfs_rw.cmti"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_rw.cmx" "/home/opam/.opam/default/lib/datakit/ivfs_rw.cmx"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_rw.mli" "/home/opam/.opam/default/lib/datakit/ivfs_rw.mli"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_tree.cmi" "/home/opam/.opam/default/lib/datakit/ivfs_tree.cmi"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_tree.cmti" "/home/opam/.opam/default/lib/datakit/ivfs_tree.cmti"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_tree.cmx" "/home/opam/.opam/default/lib/datakit/ivfs_tree.cmx"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/src/datakit/ivfs_tree.mli" "/home/opam/.opam/default/lib/datakit/ivfs_tree.mli"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/CHANGES.md" "/home/opam/.opam/default/doc/datakit/CHANGES.md"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/LICENSE.md" "/home/opam/.opam/default/doc/datakit/LICENSE.md"
+ install "-m" "0644" "/home/opam/.opam/default/.opam-switch/build/datakit.dev/_build/README.md" "/home/opam/.opam/default/doc/datakit/README.md"
-> installed datakit.dev
Done.
# Run eval `opam env` to update the current shell environment
 ---> 4cc8b3641d42
Removing intermediate container 5a0ef1212d7c
Step 11/15 : EXPOSE 5640
 ---> Running in 224f429dbf86
 ---> 979584f4ac64
Removing intermediate container 224f429dbf86
Step 12/15 : RUN sudo mkdir /data && sudo chown opam.nogroup /data && chmod 700 /data &&     sudo cp $(opam config exec -- which datakit) /usr/bin/datakit &&     sudo cp $(opam config exec -- which datakit-mount) /usr/bin/datakit-mount
 ---> Running in 74d34b577623
 ---> 88a926305fbb
Removing intermediate container 74d34b577623
Step 13/15 : RUN opam config exec -- ocaml /home/opam/src/datakit/check-libev.ml
 ---> Running in e3e4a25343ba
 ---> a4e1e14b12c0
Removing intermediate container e3e4a25343ba
Step 14/15 : ENTRYPOINT /usr/bin/datakit
 ---> Running in 08c98607b788
 ---> 7484a16435a6
Removing intermediate container 08c98607b788
Step 15/15 : CMD --url=tcp://0.0.0.0:5640 --git=/data -v
 ---> Running in 68627a830b4f
 ---> ac2d4af5af2d
Removing intermediate container 68627a830b4f
Successfully built ac2d4af5af2d
[2017-04-18 17:38.50] Success
