=== Docker build Dockerfile.client
[2017-06-07 15:07.13] Starting...
Cloning into '/tmp/with_clone2f9b77f8'...
done.
warning: remote HEAD refers to nonexistent ref, unable to checkout.

HEAD is now at 157caed Dockerfile: pin opam-repo to a more recent version
[2017-06-07 15:07.16] Rewrite Dockerfile's first line to:
FROM ocaml/opam:alpine_ocaml-4.03.0
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 6.128 MBSending build context to Docker daemon 6.685 MBSending build context to Docker daemon 7.242 MBSending build context to Docker daemon 7.799 MBSending build context to Docker daemon 7.966 MB
Step 1/22 : FROM ocaml/opam:alpine_ocaml-4.03.0
 ---> 2a6e40273e97
Step 2/22 : RUN git -C /home/opam/opam-repository fetch origin &&     git -C /home/opam/opam-repository reset 79046b8ab --hard &&     opam update -u
 ---> Running in 6bf450090786
[91mFrom git://github.com/ocaml/opam-repository
   95d690dc7..79046b8ab  master     -> origin/master
[0m[91mChecking out files:  30% (6822/22236)   [0m[91mChecking out files:  31% (6894/22236)   [0m[91mChecking out files:  32% (7116/22236)   [0m[91mChecking out files:  33% (7338/22236)   [0m[91mChecking out files:  34% (7561/22236)   [0m[91mChecking out files:  35% (7783/22236)   [0m[91mChecking out files:  36% (8005/22236)   [0m[91mChecking out files:  37% (8228/22236)   [0m[91mChecking out files:  38% (8450/22236)   [0m[91mChecking out files:  39% (8673/22236)   [0m[91mChecking out files:  40% (8895/22236)   [0m[91mChecking out files:  41% (9117/22236)   [0m[91mChecking out files:  42% (9340/22236)   [0m[91mChecking out files:  43% (9562/22236)   [0m[91mChecking out files:  44% (9784/22236)   [0m[91mChecking out files:  45% (10007/22236)   [0m[91mChecking out files:  46% (10229/22236)   [0m[91mChecking out files:  47% (10451/22236)   [0m[91mChecking out files:  48% (10674/22236)   [0m[91mChecking out files:  49% (10896/22236)   [0m[91mChecking out files:  50% (11118/22236)   [0m[91mChecking out files:  51% (11341/22236)   [0m[91mChecking out files:  52% (11563/22236)   [0m[91mChecking out files:  52% (11609/22236)   [0m[91mChecking out files:  53% (11786/22236)   [0m[91mChecking out files:  54% (12008/22236)   [0m[91mChecking out files:  55% (12230/22236)   [0m[91mChecking out files:  56% (12453/22236)   [0m[91mChecking out files:  57% (12675/22236)   [0m[91mChecking out files:  58% (12897/22236)   [0m[91mChecking out files:  59% (13120/22236)   [0m[91mChecking out files:  60% (13342/22236)   [0m[91mChecking out files:  61% (13564/22236)   [0m[91mChecking out files:  62% (13787/22236)   [0m[91mChecking out files:  63% (14009/22236)   [0m[91mChecking out files:  64% (14232/22236)   [0m[91mChecking out files:  65% (14454/22236)   [0m[91mChecking out files:  66% (14676/22236)   [0m[91mChecking out files:  67% (14899/22236)   [0m[91mChecking out files:  68% (15121/22236)   [0m[91mChecking out files:  69% (15343/22236)   [0m[91mChecking out files:  70% (15566/22236)   [0m[91mChecking out files:  71% (15788/22236)   [0m[91mChecking out files:  72% (16010/22236)   [0m[91mChecking out files:  73% (16233/22236)   [0m[91mChecking out files:  74% (16455/22236)   [0m[91mChecking out files:  75% (16677/22236)   [0m[91mChecking out files:  76% (16900/22236)   [0m[91mChecking out files:  77% (17122/22236)   [0m[91mChecking out files:  78% (17345/22236)   [0m[91mChecking out files:  79% (17567/22236)   [0m[91mChecking out files:  80% (17789/22236)   [0m[91mChecking out files:  81% (18012/22236)   [0m[91mChecking out files:  82% (18234/22236)   [0m[91mChecking out files:  83% (18456/22236)   [0m[91mChecking out files:  83% (18499/22236)   [0m[91mChecking out files:  84% (18679/22236)   [0m[91mChecking out files:  85% (18901/22236)   [0m[91mChecking out files:  86% (19123/22236)   [0m[91mChecking out files:  87% (19346/22236)   [0m[91mChecking out files:  88% (19568/22236)   [0m[91mChecking out files:  89% (19791/22236)   [0m[91mChecking out files:  90% (20013/22236)   [0m[91mChecking out files:  91% (20235/22236)   [0m[91mChecking out files:  92% (20458/22236)   [0m[91mChecking out files:  93% (20680/22236)   [0m[91mChecking out files:  94% (20902/22236)   [0m[91mChecking out files:  95% (21125/22236)   [0m[91mChecking out files:  96% (21347/22236)   [0m[91mChecking out files:  97% (21569/22236)   [0m[91mChecking out files:  98% (21792/22236)   [0m[91mChecking out files:  99% (22014/22236)   [0m[91mChecking out files: 100% (22236/22236)   Checking out files: 100% (22236/22236), done.
[0mHEAD is now at 79046b8ab Merge pull request #9441 from samoht/git

=-=- Updating package repositories =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[default: local] Command started
[default: local] Command started
[default: local] Command started
[default] /home/opam/opam-repository synchronized

Already up-to-date.
 ---> 6d1d67bbb244
Removing intermediate container 6bf450090786
Step 3/22 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Running in c1173cee5848
 ---> d1d9efe975a7
Removing intermediate container c1173cee5848
Step 4/22 : RUN opam depext -ui lwt alcotest conf-libev
 ---> Running in 2a7ca98e3616
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - libev-dev
#  - m4
The following command needs to be run through "sudo":
    apk update
fetch http://dl-cdn.alpinelinux.org/alpine/v3.5/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.5/community/x86_64/APKINDEX.tar.gz
v3.5.2-89-g852b09befc [http://dl-cdn.alpinelinux.org/alpine/v3.5/main]
v3.5.2-81-gf4d50b1370 [http://dl-cdn.alpinelinux.org/alpine/v3.5/community]
OK: 7963 distinct packages available
# OS package update successful
The following command needs to be run through "sudo":
    apk add libev-dev m4
(1/3) Installing libev (4.22-r0)
(2/3) Installing libev-dev (4.22-r0)
(3/3) Installing m4 (1.4.17-r1)
Executing busybox-1.25.1-r0.trigger
OK: 583 MiB in 93 packages
# OS packages installation successful
# Now letting OPAM install the packages
The following actions will be performed:
  - install conf-m4    1                                        [required by ocamlfind]
  - install conf-libev 4-11      
  - install result     1.2                                      [required by alcotest, lwt]
  - install uchar      0.0.1                                    [required by fmt]
  - install ocamlfind  1.7.3                                    [required by alcotest, lwt]
  - install topkg      0.9.0                                    [required by alcotest]
  - install ppx_tools  5.0+4.03.0                               [required by lwt]
  - install base-bytes base                                     [required by cppo]
  - install cmdliner   1.0.0                                    [required by alcotest]
  - install astring    0.8.3                                    [required by alcotest]
  - install cppo       1.5.0                                    [required by lwt]
  - install fmt        0.8.3                                    [required by alcotest]
  - install lwt        3.0.0     
  - install alcotest   0.7.2     
===== 14 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[alcotest: http] Command started
[astring: http] Command started
[cmdliner: http] Command started
[astring: http] Command started
[astring.0.8.3] http://erratique.ch/software/astring/releases/astring-0.8.3.tbz downloaded
[cppo: http] Command started
[cmdliner: http] Command started
[cmdliner.1.0.0] http://erratique.ch/software/cmdliner/releases/cmdliner-1.0.0.tbz downloaded
[fmt: http] Command started
[fmt: http] Command started
[fmt.0.8.3] http://erratique.ch/software/fmt/releases/fmt-0.8.3.tbz downloaded
[lwt: http] Command started
[alcotest: http] Command started
[alcotest.0.7.2] https://github.com/mirage/alcotest/releases/download/0.7.2/alcotest-0.7.2.tbz downloaded
[ocamlfind: http] Command started
[ocamlfind: http] Command started
[ocamlfind.1.7.3] http://download.camlcity.org/download/findlib-1.7.3.tar.gz downloaded
[ppx_tools: http] Command started
[lwt: http] Command started
[lwt.3.0.0] https://github.com/ocsigen/lwt/archive/3.0.0.tar.gz downloaded
[result: http] Command started
[ppx_tools: http] Command started
[ppx_tools.5.0+4.03.0] https://github.com/alainfrisch/ppx_tools/archive/5.0+4.03.0.tar.gz downloaded
[topkg: http] Command started
[topkg: http] Command started
[topkg.0.9.0] http://erratique.ch/software/topkg/releases/topkg-0.9.0.tbz downloaded
[uchar: http] Command started
[result: http] Command started
[result.1.2] https://github.com/janestreet/result/archive/1.2.tar.gz downloaded
[cppo: http] Command started
[cppo.1.5.0] https://github.com/mjambon/cppo/archive/v1.5.0.tar.gz downloaded
[uchar: http] Command started
[uchar.0.0.1] https://github.com/ocaml/uchar/releases/download/v0.0.1/uchar-0.0.1.tbz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[conf-libev: sh] Command started
[conf-m4: sh echo | m4] Command started
[result: make] Command started
[uchar: ocaml] Command started
-> installed conf-m4.1
[ocamlfind: ./configure] Command started
[uchar: ocaml] Command started
-> installed conf-libev.4-11
-> installed result.1.2
-> installed uchar.0.0.1
[ocamlfind: make all] Command started
[ocamlfind: make opt] Command started
[ocamlfind: make install] Command started
-> installed ocamlfind.1.7.3
-> installed base-bytes.base
[cppo: make opt] Command started
[ppx_tools: make all] Command started
[topkg: ocaml build] Command started
[cppo: make ocamlbuild] Command started
[cppo: make install-lib] Command started
-> installed cppo.1.5.0
[ppx_tools: make install] Command started
-> installed ppx_tools.5.0+4.03.0
[lwt: make setup] Command started
[lwt: ocaml setup.ml] Command started
-> installed topkg.0.9.0
[astring: ocaml build] Command started
[cmdliner: ocaml build] Command started
-> installed astring.0.8.3
-> installed cmdliner.1.0.0
[fmt: ocaml build] Command started
-> installed fmt.0.8.3
[alcotest: ocaml build] Command started
-> installed alcotest.0.7.2
[lwt: make build] Command started
[lwt: make install] Command started
-> installed lwt.3.0.0
Done.

=-=- lwt.3.0.0 installed successfully -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
=> Lwt 3.0.0 made some minor breaking changes, announced in 2.7.0. See
     https://github.com/ocsigen/lwt/issues/308
 ---> 014e35eb1aef
Removing intermediate container 2a7ca98e3616
Step 5/22 : COPY datakit-client.opam /home/opam/src/datakit/datakit-client.opam
 ---> b1b305489da8
Error removing intermediate container a1151d52be44: Driver aufs failed to remove root filesystem a1151d52be44f358fa4ccec939207d5286d9abeb70610306c105504a91200d63: rename /var/lib/docker/aufs/mnt/2ee1fd96bdafdab6c2d141f1d658136da617ff238655de8d2f9716197cb44cc2 /var/lib/docker/aufs/mnt/2ee1fd96bdafdab6c2d141f1d658136da617ff238655de8d2f9716197cb44cc2-removing: device or resource busy
Step 6/22 : RUN opam pin add datakit-client.dev /home/opam/src/datakit -n
 ---> Running in 89a0e7571d14
datakit-client is now path-pinned to /home/opam/src/datakit

[datakit-client: local]
[datakit-client] /home/opam/src/datakit/ synchronized
[datakit-client] Installing new package description from /home/opam/src/datakit

 ---> 19c6bc484e1b
Error removing intermediate container a1151d52be44: No such container: a1151d52be44f358fa4ccec939207d5286d9abeb70610306c105504a91200d63
Step 7/22 : COPY datakit-client-9p.opam /home/opam/src/datakit/datakit-client-9p.opam
 ---> 797ba1b35c4a
Error removing intermediate container 7430ed5eaf12: Driver aufs failed to remove root filesystem 7430ed5eaf124156400257967483992ccc073a2b52d6067c99c5e302a26ddf6a: rename /var/lib/docker/aufs/mnt/4a559683e3849738d615d2b750befd14ecccc852eea3b98b41f468b6f2e90ce1 /var/lib/docker/aufs/mnt/4a559683e3849738d615d2b750befd14ecccc852eea3b98b41f468b6f2e90ce1-removing: device or resource busy
Step 8/22 : RUN opam pin add datakit-client-9p.dev /home/opam/src/datakit -n
 ---> Running in 86e14167eb9e
Package datakit-client-9p does not exist, create as a NEW package ? [Y/n] y
datakit-client-9p is now path-pinned to /home/opam/src/datakit

[datakit-client-9p: local]
[datakit-client-9p] /home/opam/src/datakit/ synchronized
[datakit-client-9p] Installing new package description from
/home/opam/src/datakit

 ---> 7e7d397fca63
Error removing intermediate container a1151d52be44: No such container: a1151d52be44f358fa4ccec939207d5286d9abeb70610306c105504a91200d63
Step 9/22 : COPY datakit-client-git.opam /home/opam/src/datakit/datakit-client-git.opam
 ---> 3743b517381f
Error removing intermediate container 7430ed5eaf12: No such container: 7430ed5eaf124156400257967483992ccc073a2b52d6067c99c5e302a26ddf6a
Step 10/22 : RUN opam pin add datakit-client-git.dev /home/opam/src/datakit -n
 ---> Running in 4cb5298f562b
Package datakit-client-git does not exist, create as a NEW package ? [Y/n] y
datakit-client-git is now path-pinned to /home/opam/src/datakit

[datakit-client-git: local]
[datakit-client-git] /home/opam/src/datakit/ synchronized
[datakit-client-git] Installing new package description from
/home/opam/src/datakit

 ---> 45a9de2244d2
Removing intermediate container 89a0e7571d14
Error removing intermediate container 7430ed5eaf12: No such container: 7430ed5eaf124156400257967483992ccc073a2b52d6067c99c5e302a26ddf6a
Step 11/22 : RUN opam depext datakit-client datakit-client-9p datakit-client-git inotify
 ---> Running in 1209afa38345
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - gmp-dev
#  - linux-headers
#  - m4
#  - ncurses-dev
#  - openssl-dev
#  - perl
#  - pkgconfig
#  - zlib-dev
m4
ncurses-dev
pkgconf
# The following new OS packages need to be installed: gmp-dev linux-headers openssl-dev perl zlib-dev
The following command needs to be run through "sudo":
    apk add gmp-dev linux-headers openssl-dev perl zlib-dev
(1/8) Installing libgmpxx (6.1.1-r0)
(2/8) Installing gmp-dev (6.1.1-r0)
(3/8) Installing linux-headers (4.4.6-r1)
(4/8) Installing zlib-dev (1.2.11-r0)
(5/8) Installing libcrypto1.0 (1.0.2k-r0)
(6/8) Installing libssl1.0 (1.0.2k-r0)
(7/8) Installing openssl-dev (1.0.2k-r0)
(8/8) Installing perl (5.24.0-r0)
Executing busybox-1.25.1-r0.trigger
OK: 654 MiB in 101 packages
# OS packages installation successful
 ---> 593d35a76408
Error removing intermediate container a1151d52be44: No such container: a1151d52be44f358fa4ccec939207d5286d9abeb70610306c105504a91200d63
Step 12/22 : RUN opam install datakit-client --deps
 ---> Running in e7d90298bfad

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
[datakit-client] /home/opam/src/datakit/ synchronized
The following actions will be performed:
  - install ocplib-endian 1.0      
  - install base-num      base     
  - install jbuilder      1.0+beta9
  - install num           0        
  - install sexplib       v0.9.1   
  - install cstruct       3.0.0    
===== 6 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[cstruct: http] Command started
[jbuilder: http] Command started
[ocplib-endian: http] Command started
[ocplib-endian: http] Command started
[ocplib-endian.1.0] https://github.com/OCamlPro/ocplib-endian/archive/1.0.tar.gz downloaded
[sexplib: http] Command started
[jbuilder: http] Command started
[jbuilder.1.0+beta9] https://github.com/janestreet/jbuilder/releases/download/1.0+beta9/jbuilder-1.0.beta9.tbz downloaded
[cstruct: http] Command started
[cstruct.3.0.0] https://github.com/mirage/ocaml-cstruct/releases/download/v3.0.0/cstruct-3.0.0.tbz downloaded
[sexplib: http] Command started
[sexplib.v0.9.1] https://github.com/janestreet/sexplib/archive/v0.9.1.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> installed base-num.base
[jbuilder: ocaml bootstrap.ml] Command started
-> installed num.0
[ocplib-endian: ocaml setup.ml] Command started
[ocplib-endian: ocaml setup.ml] Command started
[jbuilder: ./boot.exe 4] Command started
[ocplib-endian: ocaml setup.ml] Command started
-> installed ocplib-endian.1.0
-> installed jbuilder.1.0+beta9
[sexplib: jbuilder build] Command started
-> installed sexplib.v0.9.1
[cstruct: jbuilder build] Command started
-> installed cstruct.3.0.0
Done.
 ---> 4b6253a708f2
Error removing intermediate container a1151d52be44: No such container: a1151d52be44f358fa4ccec939207d5286d9abeb70610306c105504a91200d63
Step 13/22 : RUN opam install irmin-git irmin-watcher git-unix inotify     astring logs fmt cstruct protocol-9p-unix cmdliner     irmin-mem irmin-git alcotest
 ---> Running in 073d7bff6065
[91m[NOTE] Package astring is already installed (current version is 0.8.3).
[NOTE] Package fmt is already installed (current version is 0.8.3).
[NOTE] Package cstruct is already installed (current version is 3.0.0).
[NOTE] Package cmdliner is already installed (current version is 1.0.0).
[NOTE] Package alcotest is already installed (current version is 0.7.2).
[0mThe following actions will be performed:
  - install   stringext               1.4.3                     [required by conduit]
  - install   rresult                 0.5.0                     [required by protocol-9p-unix]
  - install   ppx_deriving            4.1                       [required by protocol-9p-unix]
  - install   re                      1.7.1                     [required by prometheus]
  - install   conf-gmp                1                         [required by zarith]
  - install   ocamlgraph              1.8.7                     [required by irmin]
  - install   uutf                    1.0.1                     [required by jsonm]
  - install   ocaml-migrate-parsetree 1.0.1                     [required by cstruct]
  - install   mirage-no-solo5         1                         [required by nocrypto]
  - install   base                    v0.9.2                    [required by fieldslib]
  - install   mirage-flow             1.2.0                     [required by mirage-flow-lwt, mirage-channel]
  - install   conf-perl               1                         [required by zarith]
  - install   ocb-stubblr             0.1.1                     [required by irmin-watcher]
  - install   ocaml-compiler-libs     v0.9.0                    [required by ppx_core]
  - install   logs                    0.6.2         
  - install   mtime                   1.0.0                     [required by git-unix]
  - install   mirage-device           1.1.0                     [required by mirage-kv]
  - install   magic-mime              1.0.1                     [required by cohttp]
  - install   asetmap                 0.8.1                     [required by prometheus]
  - install   decompress              0.6                       [required by git]
  - install   inotify                 2.3           
  - install   base64                  2.1.2                     [required by cohttp]
  - install   ppx_traverse_builtins   v0.9.0                    [required by ppx_core, ppx_metaquot]
  - install   mirage-no-xen           1                         [required by nocrypto]
  - install   win-error               0.2                       [required by protocol-9p-unix]
  - install   jsonm                   1.0.1                     [required by irmin]
  - install   ppx_tools_versioned     5.0.1                     [required by cstruct]
  - install   stdio                   v0.9.0                    [required by ppx_core]
  - install   mirage-channel          3.0.0                     [required by mirage-channel-lwt]
  - install   zarith                  1.5                       [required by nocrypto]
  - install   named-pipe              0.4.0                     [required by protocol-9p-unix]
  - install   cpuid                   0.1.1                     [required by nocrypto]
  - install   ppx_ast                 v0.9.1                    [required by ppx_core]
  - install   mirage-kv               1.1.0                     [required by mirage-kv-lwt]
  - install   mirage-clock            1.2.0                     [required by mirage-flow-lwt]
  - install   prometheus              0.2                       [required by protocol-9p-unix]
  - install   irmin-watcher           0.2.0         
  - downgrade cstruct                 3.0.0 to 2.4.1
  - install   ppx_core                v0.9.0                    [required by ppx_sexp_conv, ppx_fields_conv]
  - install   ppx_cstruct             0                         [required by protocol-9p]
  - install   mstruct                 1.3.3                     [required by git]
  - install   mirage-kv-lwt           1.1.0                     [required by protocol-9p-unix]
  - install   io-page                 1.6.1                     [required by mirage-channel-lwt]
  - install   hex                     1.1.1                     [required by irmin]
  - install   cstruct-lwt             0                         [required by protocol-9p]
  - install   ppx_optcomp             v0.9.0                    [required by conduit]
  - install   mirage-flow-lwt         1.2.0                     [required by protocol-9p-unix]
  - install   ppx_driver              v0.9.1                    [required by conduit]
  - install   mirage-channel-lwt      3.0.0                     [required by protocol-9p-unix]
  - install   ppx_metaquot            v0.9.0                    [required by ppx_sexp_conv, ppx_fields_conv]
  - install   fieldslib               v0.9.0                    [required by cohttp]
  - install   ppx_type_conv           v0.9.0                    [required by ppx_sexp_conv, ppx_fields_conv]
  - install   ppx_sexp_conv           v0.9.0                    [required by protocol-9p-unix]
  - install   ppx_fields_conv         v0.9.0                    [required by cohttp]
  - install   uri                     1.9.4                     [required by conduit, irmin]
  - install   protocol-9p             0.11.0                    [required by protocol-9p-unix]
  - install   nocrypto                0.5.4                     [required by git-unix]
  - install   ipaddr                  2.8.0                     [required by conduit]
  - install   irmin                   1.2.0                     [required by irmin-git, irmin-mem]
  - install   git                     1.11.0                    [required by irmin-git]
  - install   protocol-9p-unix        0.11.0        
  - install   conduit                 0.15.4                    [required by git-unix]
  - install   irmin-mem               1.2.0         
  - install   irmin-git               1.2.0         
  - install   cohttp                  0.22.0                    [required by git-http]
  - install   git-http                1.11.0                    [required by git-unix]
  - install   git-unix                1.11.0        
===== 66 to install | 1 to downgrade =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asetmap: http] Command started
[base: http] Command started
[base64: http] Command started
[asetmap: http] Command started
[asetmap.0.8.1] http://erratique.ch/software/asetmap/releases/asetmap-0.8.1.tbz downloaded
[cohttp: http] Command started
[base64: http] Command started
[base64.2.1.2] https://github.com/mirage/ocaml-base64/releases/download/v2.1.2/base64-2.1.2.tbz downloaded
[conduit: http] Command started
[base: http] Command started
[base.v0.9.2] https://github.com/janestreet/base/archive/v0.9.2.tar.gz downloaded
[cpuid: http] Command started
[cohttp: http] Command started
[cohttp.0.22.0] https://github.com/mirage/ocaml-cohttp/archive/v0.22.0.tar.gz downloaded
[cstruct: http] Command started
[conduit: http] Command started
[conduit.0.15.4] https://github.com/mirage/ocaml-conduit/archive/v0.15.4.tar.gz downloaded
[decompress: http] Command started
[cpuid: http] Command started
[cpuid.0.1.1] https://github.com/pqwy/cpuid/releases/download/v0.1.1/cpuid-0.1.1.tbz downloaded
[fieldslib: http] Command started
[fieldslib: http] Command started
[fieldslib.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/fieldslib-v0.9.0.tar.gz downloaded
[git: http] Command started
[decompress: http] Command started
[decompress.0.6] https://github.com/mirage/decompress/releases/download/v0.6/decompress-0.6.tbz downloaded
[git-http: http] Command started
[cstruct: http] Command started
[cstruct.2.4.1] https://github.com/mirage/ocaml-cstruct/archive/v2.4.1.tar.gz downloaded
[git-unix: http] Command started
[git: http] Command started
[git.1.11.0] https://github.com/mirage/ocaml-git/releases/download/1.11.0/git-1.11.0.tbz downloaded
[hex: http] Command started
[git-unix: http] Command started
[git-unix.1.11.0] https://github.com/mirage/ocaml-git/releases/download/1.11.0/git-1.11.0.tbz downloaded
[inotify: http] Command started
[git-http: http] Command started
[git-http.1.11.0] https://github.com/mirage/ocaml-git/releases/download/1.11.0/git-1.11.0.tbz downloaded
[io-page: http] Command started
[hex: http] Command started
[hex.1.1.1] https://github.com/mirage/ocaml-hex/releases/download/v1.1.1/hex-1.1.1.tbz downloaded
[ipaddr: http] Command started
[io-page: http] Command started
[io-page.1.6.1] https://github.com/mirage/io-page/archive/v1.6.1.tar.gz downloaded
[irmin: http] Command started
[ipaddr: http] Command started
[ipaddr.2.8.0] https://github.com/mirage/ocaml-ipaddr/releases/download/2.8.0/ipaddr-2.8.0.tbz downloaded
[irmin-git: http] Command started
[irmin: http] Command started
[irmin.1.2.0] https://github.com/mirage/irmin/releases/download/1.2.0/irmin-1.2.0.tbz downloaded
[irmin-mem: http] Command started
[irmin-git: http] Command started
[irmin-git.1.2.0] https://github.com/mirage/irmin/releases/download/1.2.0/irmin-1.2.0.tbz downloaded
[irmin-watcher: http] Command started
[irmin-watcher: http] Command started
[irmin-watcher.0.2.0] https://github.com/samoht/irmin-watcher/releases/download/0.2.0/irmin-watcher-0.2.0.tbz downloaded
[jsonm: http] Command started
[jsonm: http] Command started
[jsonm.1.0.1] http://erratique.ch/software/jsonm/releases/jsonm-1.0.1.tbz downloaded
[logs: http] Command started
[logs: http] Command started
[logs.0.6.2] http://erratique.ch/software/logs/releases/logs-0.6.2.tbz downloaded
[magic-mime: http] Command started
[irmin-mem: http] Command started
[irmin-mem.1.2.0] https://github.com/mirage/irmin/releases/download/1.2.0/irmin-1.2.0.tbz downloaded
[mirage-channel: http] Command started
[magic-mime: http] Command started
[magic-mime.1.0.1] https://github.com/mirage/ocaml-magic-mime/releases/download/1.0.1/magic-mime-1.0.1.tbz downloaded
[mirage-channel-lwt: http] Command started
[mirage-channel: http] Command started
[mirage-channel.3.0.0] https://github.com/mirage/mirage-channel/releases/download/v3.0.0/mirage-channel-3.0.0.tbz downloaded
[mirage-clock: http] Command started
[inotify: http] Command started
[inotify.2.3] https://github.com/whitequark/ocaml-inotify/archive/v2.3.tar.gz downloaded
[mirage-device: http] Command started
[mirage-clock: http] Command started
[mirage-clock.1.2.0] https://github.com/mirage/mirage-clock/releases/download/1.2.0/mirage-clock-1.2.0.tbz downloaded
[mirage-flow: http] Command started
[mirage-device: http] Command started
[mirage-device.1.1.0] https://github.com/mirage/mirage-device/releases/download/v1.1.0/mirage-device-1.1.0.tbz downloaded
[mirage-flow-lwt: http] Command started
[mirage-channel-lwt: http] Command started
[mirage-channel-lwt.3.0.0] https://github.com/mirage/mirage-channel/releases/download/v3.0.0/mirage-channel-lwt-3.0.0.tbz downloaded
[mirage-kv: http] Command started
[mirage-flow: http] Command started
[mirage-flow.1.2.0] https://github.com/mirage/mirage-flow/releases/download/1.2.0/mirage-flow-1.2.0.tbz downloaded
[mirage-kv-lwt: http] Command started
[mirage-flow-lwt: http] Command started
[mirage-flow-lwt.1.2.0] https://github.com/mirage/mirage-flow/releases/download/1.2.0/mirage-flow-lwt-1.2.0.tbz downloaded
[mstruct: http] Command started
[mirage-kv: http] Command started
[mirage-kv.1.1.0] https://github.com/mirage/mirage-kv/releases/download/v1.1.0/mirage-kv-1.1.0.tbz downloaded
[mtime: http] Command started
[mtime: http] Command started
[mtime.1.0.0] http://erratique.ch/software/mtime/releases/mtime-1.0.0.tbz downloaded
[named-pipe: http] Command started
[mirage-kv-lwt: http] Command started
[mirage-kv-lwt.1.1.0] https://github.com/mirage/mirage-kv/releases/download/v1.1.0/mirage-kv-1.1.0.tbz downloaded
[nocrypto: http] Command started
[mstruct: http] Command started
[mstruct.1.3.3] https://github.com/mirage/ocaml-mstruct/archive/v1.3.3.tar.gz downloaded
[ocaml-compiler-libs: http] Command started
[ocaml-compiler-libs: http] Command started
[ocaml-compiler-libs.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ocaml-compiler-libs-v0.9.0.tar.gz downloaded
[ocaml-migrate-parsetree: http] Command started
[named-pipe: http] Command started
[named-pipe.0.4.0] https://github.com/mirage/ocaml-named-pipe/releases/download/0.4.0/named-pipe-0.4.0.tbz downloaded
[ocamlgraph: http] Command started
[ocamlgraph: http] Command started
[ocamlgraph.1.8.7] http://ocamlgraph.lri.fr/download/ocamlgraph-1.8.7.tar.gz downloaded
[ocb-stubblr: http] Command started
[ocb-stubblr: http] Command started
[ocb-stubblr.0.1.1] https://github.com/pqwy/ocb-stubblr/releases/download/v0.1.1/ocb-stubblr-0.1.1.tbz downloaded
[ppx_ast: http] Command started
[ppx_ast: http] Command started
[ppx_ast.v0.9.1] https://github.com/janestreet/ppx_ast/archive/v0.9.1.tar.gz downloaded
[ppx_core: http] Command started
[ocaml-migrate-parsetree: http] Command started
[ocaml-migrate-parsetree.1.0.1] https://github.com/let-def/ocaml-migrate-parsetree/archive/1.0.1.tar.gz downloaded
[ppx_deriving: http] Command started
[ppx_core: http] Command started
[ppx_core.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_core-v0.9.0.tar.gz downloaded
[ppx_driver: http] Command started
[ppx_driver: http] Command started
[ppx_driver.v0.9.1] https://github.com/janestreet/ppx_driver/archive/v0.9.1.tar.gz downloaded
[ppx_fields_conv: http] Command started
[ppx_deriving: http] Command started
[ppx_deriving.4.1] https://github.com/whitequark/ppx_deriving/archive/v4.1.tar.gz downloaded
[ppx_metaquot: http] Command started
[ppx_fields_conv: http] Command started
[ppx_fields_conv.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_fields_conv-v0.9.0.tar.gz downloaded
[ppx_optcomp: http] Command started
[ppx_metaquot: http] Command started
[ppx_metaquot.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_metaquot-v0.9.0.tar.gz downloaded
[ppx_sexp_conv: http] Command started
[ppx_sexp_conv: http] Command started
[ppx_sexp_conv.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_sexp_conv-v0.9.0.tar.gz downloaded
[ppx_tools_versioned: http] Command started
[ppx_optcomp: http] Command started
[ppx_optcomp.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_optcomp-v0.9.0.tar.gz downloaded
[ppx_traverse_builtins: http] Command started
[ppx_traverse_builtins: http] Command started
[ppx_traverse_builtins.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_traverse_builtins-v0.9.0.tar.gz downloaded
[ppx_type_conv: http] Command started
[ppx_type_conv: http] Command started
[ppx_type_conv.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/ppx_type_conv-v0.9.0.tar.gz downloaded
[prometheus: http] Command started
[ppx_tools_versioned: http] Command started
[ppx_tools_versioned.5.0.1] https://github.com/let-def/ppx_tools_versioned/archive/5.0.1.tar.gz downloaded
[protocol-9p: http] Command started
[protocol-9p: http] Command started
[protocol-9p.0.11.0] https://github.com/mirage/ocaml-9p/archive/v0.11.0.tar.gz downloaded
[protocol-9p-unix: http] Command started
[protocol-9p-unix: http] Command started
[protocol-9p-unix.0.11.0] https://github.com/mirage/ocaml-9p/archive/v0.11.0.tar.gz downloaded
[re: http] Command started
[re: http] Command started
[re.1.7.1] https://github.com/ocaml/ocaml-re/archive/1.7.1.tar.gz downloaded
[rresult: http] Command started
[rresult: http] Command started
[rresult.0.5.0] http://erratique.ch/software/rresult/releases/rresult-0.5.0.tbz downloaded
[stdio: http] Command started
[stdio: http] Command started
[stdio.v0.9.0] https://ocaml.janestreet.com/ocaml-core/v0.9/files/stdio-v0.9.0.tar.gz downloaded
[stringext: http] Command started
[stringext: http] Command started
[stringext.1.4.3] https://github.com/rgrinberg/stringext/archive/v1.4.3.tar.gz downloaded
[uri: http] Command started
[nocrypto: http] Command started
[nocrypto.0.5.4] https://github.com/mirleft/ocaml-nocrypto/releases/download/v0.5.4/nocrypto-0.5.4.tbz downloaded
[uutf: http] Command started
[uutf: http] Command started
[uutf.1.0.1] http://erratique.ch/software/uutf/releases/uutf-1.0.1.tbz downloaded
[win-error: http] Command started
[win-error: http] Command started
[win-error.0.2] https://github.com/djs55/ocaml-win-error/archive/v0.2.tar.gz downloaded
[zarith: http] Command started
[prometheus: http] Command started
[prometheus.0.2] https://github.com/mirage/prometheus/archive/v0.2.tar.gz downloaded
[uri: http] Command started
[uri.1.9.4] https://github.com/mirage/ocaml-uri/releases/download/v1.9.4/uri-1.9.4.tbz downloaded
[zarith: http] Command started
[zarith.1.5] https://github.com/ocaml/Zarith/archive/release-1.5.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> removed   cstruct.3.0.0
[asetmap: ocaml build] Command started
[base: jbuilder build] Command started
[base64: ocaml build] Command started
[conf-gmp: sh] Command started
-> installed conf-gmp.1
[conf-perl: perl] Command started
-> installed conf-perl.1
[decompress: ocaml build] Command started
-> installed asetmap.0.8.1
[inotify: ocaml setup.ml] Command started
-> installed base64.2.1.2
[logs: ocaml build] Command started
-> installed logs.0.6.2
[magic-mime: jbuilder build] Command started
[inotify: ocaml setup.ml] Command started
-> installed magic-mime.1.0.1
[mirage-device: jbuilder build] Command started
-> installed mirage-device.1.1.0
[mirage-clock: ocaml build] Command started
-> installed decompress.0.6
[mirage-flow: ocaml build] Command started
-> installed mirage-clock.1.2.0
[mirage-kv: jbuilder build] Command started
-> installed mirage-flow.1.2.0
[mirage-channel: ocaml build] Command started
-> installed mirage-kv.1.1.0
-> installed mirage-no-solo5.1
-> installed mirage-no-xen.1
[mtime: ocaml build] Command started
-> installed mirage-channel.3.0.0
[ocaml-compiler-libs: jbuilder build] Command started
-> installed ocaml-compiler-libs.v0.9.0
[ocaml-migrate-parsetree: jbuilder build] Command started
[inotify: ocaml setup.ml] Command started
-> installed mtime.1.0.0
[ocamlgraph: touch] Command started
[ocamlgraph: ./configure] Command started
[ocamlgraph: make] Command started
-> installed inotify.2.3
[ocb-stubblr: ocaml build] Command started
-> installed ocb-stubblr.0.1.1
[cpuid: ocaml build] Command started
-> installed cpuid.0.1.1
[irmin-watcher: ocaml build] Command started
-> installed base.v0.9.2
[named-pipe: ocaml build] Command started
-> installed ocaml-migrate-parsetree.1.0.1
[ppx_ast: jbuilder build] Command started
-> installed irmin-watcher.0.2.0
[ppx_deriving: ocaml] Command started
[ocamlgraph: make install-findlib] Command started
-> installed ocamlgraph.1.8.7
[ppx_tools_versioned: make all] Command started
-> installed named-pipe.0.4.0
[ppx_traverse_builtins: jbuilder build] Command started
-> installed ppx_traverse_builtins.v0.9.0
[re: ocaml setup.ml] Command started
[re: ocaml setup.ml] Command started
-> installed ppx_ast.v0.9.1
[rresult: ocaml build] Command started
-> installed rresult.0.5.0
[stdio: jbuilder build] Command started
-> installed stdio.v0.9.0
[ppx_core: jbuilder build] Command started
-> installed ppx_deriving.4.1
[stringext: ocaml setup.ml] Command started
[stringext: ocaml setup.ml] Command started
[re: ocaml setup.ml] Command started
[ppx_tools_versioned: make install] Command started
-> installed ppx_tools_versioned.5.0.1
[cstruct: ./configure] Command started
[stringext: ocaml setup.ml] Command started
-> installed re.1.7.1
[prometheus: jbuilder build] Command started
-> installed prometheus.0.2
[uutf: ocaml build] Command started
[cstruct: make] Command started
-> installed stringext.1.4.3
[win-error: make] Command started
-> installed uutf.1.0.1
[jsonm: ocaml build] Command started
-> installed ppx_core.v0.9.0
[ppx_optcomp: jbuilder build] Command started
-> installed jsonm.1.0.1
[zarith: ./configure] Command started
[zarith: make] Command started
-> installed ppx_optcomp.v0.9.0
[ppx_driver: jbuilder build] Command started
[win-error: make install] Command started
[cstruct: make install] Command started
-> installed ppx_driver.v0.9.1
[fieldslib: jbuilder build] Command started
-> installed win-error.0.2
[ppx_metaquot: jbuilder build] Command started
[zarith: make install] Command started
-> installed zarith.1.5
-> installed fieldslib.v0.9.0
[cstruct: make js-install] Command started
-> installed cstruct.2.4.1
-> installed cstruct-lwt.0
[hex: jbuilder build] Command started
[io-page: ./configure] Command started
[mirage-flow-lwt: ocaml build] Command started
-> installed hex.1.1.1
[mirage-kv-lwt: jbuilder build] Command started
-> installed mirage-kv-lwt.1.1.0
[mstruct: jbuilder build] Command started
-> installed mirage-flow-lwt.1.2.0
-> installed ppx_cstruct.0
-> installed mstruct.1.3.3
-> installed ppx_metaquot.v0.9.0
[ppx_type_conv: jbuilder build] Command started
[io-page: make] Command started
-> installed ppx_type_conv.v0.9.0
[ppx_fields_conv: jbuilder build] Command started
[ppx_sexp_conv: jbuilder build] Command started
[io-page: make install] Command started
-> installed ppx_fields_conv.v0.9.0
-> installed ppx_sexp_conv.v0.9.0
[ipaddr: jbuilder build] Command started
[nocrypto: ocaml build] Command started
[uri: jbuilder build] Command started
-> installed io-page.1.6.1
[mirage-channel-lwt: ocaml build] Command started
-> installed mirage-channel-lwt.3.0.0
[protocol-9p: jbuilder build] Command started
-> installed ipaddr.2.8.0
-> installed protocol-9p.0.11.0
[protocol-9p-unix: jbuilder build] Command started
-> installed protocol-9p-unix.0.11.0
-> installed nocrypto.0.5.4
-> installed uri.1.9.4
[conduit: ./configure] Command started
[git: jbuilder build] Command started
[irmin: jbuilder build] Command started
[conduit: make] Command started
-> installed git.1.11.0
-> installed irmin.1.2.0
[irmin-git: jbuilder build] Command started
[irmin-mem: jbuilder build] Command started
-> installed irmin-mem.1.2.0
[conduit: make install] Command started
-> installed irmin-git.1.2.0
-> installed conduit.0.15.4
[cohttp: make] Command started
[cohttp: make install] Command started
-> installed cohttp.0.22.0
[git-http: jbuilder build] Command started
-> installed git-http.1.11.0
[git-unix: jbuilder build] Command started
-> installed git-unix.1.11.0
Done.
 ---> 23877c305036
Removing intermediate container 5fc9e3be6b11
Removing intermediate container 4cb5298f562b
Removing intermediate container e7d90298bfad
Removing intermediate container 073d7bff6065
Error removing intermediate container a1151d52be44: No such container: a1151d52be44f358fa4ccec939207d5286d9abeb70610306c105504a91200d63
Step 14/22 : RUN opam depext camlzip && opam install ounit camlzip fpath conf-which qcheck     fileutils bos qtest
 ---> Running in 435b254cd01d
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - m4
#  - zlib-dev
m4
zlib-dev
# All required OS packages found.
The following actions will be performed:
  - install fileutils  0.5.2
  - install ounit      2.0.0
  - install camlzip    1.07 
  - install fpath      0.7.2
  - install conf-which 1    
  - install qcheck     0.6  
  - install bos        0.1.6
  - install qtest      2.6  
===== 8 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[bos: http] Command started
[camlzip: http] Command started
[fileutils: http] Command started
[bos: http] Command started
[bos.0.1.6] http://erratique.ch/software/bos/releases/bos-0.1.6.tbz downloaded
[fpath: http] Command started
[fpath: http] Command started
[fpath.0.7.2] http://erratique.ch/software/fpath/releases/fpath-0.7.2.tbz downloaded
[ounit: http] Command started
[fileutils: http] Command started
[fileutils.0.5.2] https://forge.ocamlcore.org/frs/download.php/1695/ocaml-fileutils-0.5.2.tar.gz downloaded
[qcheck: http] Command started
[ounit: http] Command started
[ounit.2.0.0] http://forge.ocamlcore.org/frs/download.php/1258/ounit-2.0.0.tar.gz downloaded
[qtest: http] Command started
[qtest: http] Command started
[qtest.2.6] https://github.com/vincent-hugot/iteml/archive/v2.6.tar.gz downloaded
[camlzip: http] Command started
[camlzip.1.07] https://github.com/xavierleroy/camlzip/archive/rel107.zip downloaded
[qcheck: http] Command started
[qcheck.0.6] https://github.com/c-cube/qcheck/archive/0.6.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[camlzip: make all] Command started
[conf-which: which which] Command started
[fileutils: ocaml setup.ml] Command started
[fpath: ocaml build] Command started
-> installed conf-which.1
[ounit: make build] Command started
[camlzip: make allopt] Command started
-> installed fpath.0.7.2
[bos: ocaml build] Command started
[camlzip: make install-findlib] Command started
-> installed camlzip.1.07
[fileutils: ocaml setup.ml] Command started
-> installed bos.0.1.6
[ounit: make install] Command started
[fileutils: ocaml setup.ml] Command started
-> installed ounit.2.0.0
[qcheck: ocaml setup.ml] Command started
-> installed fileutils.0.5.2
[qcheck: make build] Command started
[qcheck: make install] Command started
-> installed qcheck.0.6
[qtest: make build] Command started
[qtest: make install] Command started
-> installed qtest.2.6
Done.
 ---> 66f463617f94
Removing intermediate container 435b254cd01d
Error removing intermediate container a1151d52be44: No such container: a1151d52be44f358fa4ccec939207d5286d9abeb70610306c105504a91200d63
Step 15/22 : COPY . /home/opam/src/datakit
 ---> 625e3711e7f1
Error removing intermediate container a1151d52be44: No such container: a1151d52be44f358fa4ccec939207d5286d9abeb70610306c105504a91200d63
Step 16/22 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in 3622beecfa61
 ---> a21b41e10645
Error removing intermediate container a1151d52be44: No such container: a1151d52be44f358fa4ccec939207d5286d9abeb70610306c105504a91200d63
Step 17/22 : RUN opam update datakit-client datakit-client-9p datakit-client-git
 ---> Running in 3dd9277d97cd

=-=- Synchronizing development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
[datakit-client-9p: local] Command started
[datakit-client-git: local] Command started
[datakit-client] /home/opam/src/datakit/ synchronized
[datakit-client-9p] /home/opam/src/datakit/ synchronized
[datakit-client-git] /home/opam/src/datakit/ synchronized
 ---> 3e5e07a333b5
Error removing intermediate container 7430ed5eaf12: No such container: 7430ed5eaf124156400257967483992ccc073a2b52d6067c99c5e302a26ddf6a
Step 18/22 : RUN opam install datakit-client.dev -vv -t
 ---> Running in 88d6eb5c53a0

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/4.03.0/packages.dev/datakit-client"
- sending incremental file list
- 
- sent 9,036 bytes  received 52 bytes  18,176.00 bytes/sec
- total size is 1,330,793  speedup is 146.43
[datakit-client] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install datakit-client dev*

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/4.03.0/packages.dev/datakit-client"
- sending incremental file list
- 
- sent 9,036 bytes  received 52 bytes  18,176.00 bytes/sec
- total size is 1,330,793  speedup is 146.43
[datakit-client.dev] /home/opam/src/datakit/ already up-to-date

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client: jbuilder build] Command started
+ jbuilder "build" "-p" "datakit-client" "-j" "4" (CWD=/home/opam/.opam/4.03.0/build/datakit-client.dev)
-     ocamldep api/ocaml/datakit_client.depends.ocamldep-output
-     ocamldep api/ocaml/datakit_client.dependsi.ocamldep-output
-       ocamlc api/ocaml/datakit_client.{cmi,cmti}
-       ocamlc api/ocaml/datakit_client.{cmo,cmt}
-       ocamlc api/ocaml/datakit_client.cma
-     ocamlopt api/ocaml/datakit_client.{cmx,o}
-     ocamlopt api/ocaml/datakit_client.{a,cmxa}
-     ocamlopt api/ocaml/datakit_client.cmxs
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/install/default/lib/datakit-client/META" "/home/opam/.opam/4.03.0/lib/datakit-client/META"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/install/default/lib/datakit-client/opam" "/home/opam/.opam/4.03.0/lib/datakit-client/opam"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cmi" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_client.cmi"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cmx" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_client.cmx"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cmt" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_client.cmt"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cmti" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_client.cmti"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.mli" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_client.mli"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cma" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_client.cma"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cmxa" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_client.cmxa"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.a" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_client.a"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/install/default/lib/datakit-client/datakit_client.cmxs" "/home/opam/.opam/4.03.0/lib/datakit-client/datakit_client.cmxs"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/install/default/doc/datakit-client/README.md" "/home/opam/.opam/4.03.0/doc/datakit-client/README.md"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/install/default/doc/datakit-client/LICENSE.md" "/home/opam/.opam/4.03.0/doc/datakit-client/LICENSE.md"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client.dev/_build/install/default/doc/datakit-client/CHANGES.md" "/home/opam/.opam/4.03.0/doc/datakit-client/CHANGES.md"
-> installed datakit-client.dev
Done.
 ---> 9b14b5b4c4d5
Removing intermediate container 88d6eb5c53a0
Error removing intermediate container a1151d52be44: No such container: a1151d52be44f358fa4ccec939207d5286d9abeb70610306c105504a91200d63
Step 19/22 : RUN opam install datakit-client-9p -vv -t
 ---> Running in 8604af959dfd

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client-9p: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/4.03.0/packages.dev/datakit-client-9p"
- sending incremental file list
- 
- sent 9,036 bytes  received 52 bytes  18,176.00 bytes/sec
- total size is 1,330,793  speedup is 146.43
[datakit-client-9p] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install datakit-client-9p dev*

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client-9p: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/4.03.0/packages.dev/datakit-client-9p"
- sending incremental file list
- 
- sent 9,036 bytes  received 52 bytes  18,176.00 bytes/sec
- total size is 1,330,793  speedup is 146.43
[datakit-client-9p.dev] /home/opam/src/datakit/ already up-to-date

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client-9p: jbuilder build] Command started
+ jbuilder "build" "-p" "datakit-client-9p" "-j" "4" (CWD=/home/opam/.opam/4.03.0/build/datakit-client-9p.dev)
-     ocamldep api/ocaml/9p/mount/mount.depends.ocamldep-output
-     ocamldep api/ocaml/9p/datakit_client_9p.dependsi.ocamldep-output
-     ocamldep api/ocaml/9p/datakit_client_9p.depends.ocamldep-output
-       ocamlc api/ocaml/9p/mount/version.{cmi,cmo,cmt}
-       ocamlc api/ocaml/9p/datakit_client_9p.{cmi,cmti}
-     ocamlopt api/ocaml/9p/mount/version.{cmx,o}
-       ocamlc api/ocaml/9p/mount/mount.{cmi,cmo,cmt}
-     ocamlopt api/ocaml/9p/mount/mount.{cmx,o}
-       ocamlc api/ocaml/9p/datakit_client_9p.{cmo,cmt}
-       ocamlc api/ocaml/9p/datakit_client_9p.cma
-     ocamlopt api/ocaml/9p/mount/mount.exe
-     ocamlopt api/ocaml/9p/datakit_client_9p.{cmx,o}
-     ocamlopt api/ocaml/9p/datakit_client_9p.{a,cmxa}
-     ocamlopt api/ocaml/9p/datakit_client_9p.cmxs
+ install "-m" "0755" "/home/opam/.opam/4.03.0/build/datakit-client-9p.dev/_build/install/default/bin/datakit-mount" "/home/opam/.opam/4.03.0/bin/datakit-mount"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/META" "/home/opam/.opam/4.03.0/lib/datakit-client-9p/META"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/opam" "/home/opam/.opam/4.03.0/lib/datakit-client-9p/opam"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/datakit_client_9p.cmi" "/home/opam/.opam/4.03.0/lib/datakit-client-9p/datakit_client_9p.cmi"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/datakit_client_9p.cmx" "/home/opam/.opam/4.03.0/lib/datakit-client-9p/datakit_client_9p.cmx"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/datakit_client_9p.cmt" "/home/opam/.opam/4.03.0/lib/datakit-client-9p/datakit_client_9p.cmt"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/datakit_client_9p.cmti" "/home/opam/.opam/4.03.0/lib/datakit-client-9p/datakit_client_9p.cmti"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/datakit_client_9p.mli" "/home/opam/.opam/4.03.0/lib/datakit-client-9p/datakit_client_9p.mli"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/datakit_client_9p.cma" "/home/opam/.opam/4.03.0/lib/datakit-client-9p/datakit_client_9p.cma"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/datakit_client_9p.cmxa" "/home/opam/.opam/4.03.0/lib/datakit-client-9p/datakit_client_9p.cmxa"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/datakit_client_9p.a" "/home/opam/.opam/4.03.0/lib/datakit-client-9p/datakit_client_9p.a"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client-9p.dev/_build/install/default/lib/datakit-client-9p/datakit_client_9p.cmxs" "/home/opam/.opam/4.03.0/lib/datakit-client-9p/datakit_client_9p.cmxs"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client-9p.dev/_build/install/default/doc/datakit-client-9p/README.md" "/home/opam/.opam/4.03.0/doc/datakit-client-9p/README.md"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client-9p.dev/_build/install/default/doc/datakit-client-9p/LICENSE.md" "/home/opam/.opam/4.03.0/doc/datakit-client-9p/LICENSE.md"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client-9p.dev/_build/install/default/doc/datakit-client-9p/CHANGES.md" "/home/opam/.opam/4.03.0/doc/datakit-client-9p/CHANGES.md"
-> installed datakit-client-9p.dev
Done.
 ---> aba8a233a5fd
Removing intermediate container 8604af959dfd
Error removing intermediate container a1151d52be44: No such container: a1151d52be44f358fa4ccec939207d5286d9abeb70610306c105504a91200d63
Step 20/22 : RUN opam install datakit-client-git.dev -vv -t
 ---> Running in a908ebba8668

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client-git: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/4.03.0/packages.dev/datakit-client-git"
- sending incremental file list
- 
- sent 9,036 bytes  received 52 bytes  18,176.00 bytes/sec
- total size is 1,330,793  speedup is 146.43
[datakit-client-git] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install datakit-client-git dev*

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client-git: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/4.03.0/packages.dev/datakit-client-git"
- sending incremental file list
- 
- sent 9,036 bytes  received 52 bytes  18,176.00 bytes/sec
- total size is 1,330,793  speedup is 146.43
[datakit-client-git.dev] /home/opam/src/datakit/ already up-to-date

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-client-git: jbuilder build] Command started
+ jbuilder "build" "-p" "datakit-client-git" "-j" "4" (CWD=/home/opam/.opam/4.03.0/build/datakit-client-git.dev)
-     ocamldep api/ocaml/git/datakit_client_git.dependsi.ocamldep-output
-     ocamldep api/ocaml/git/datakit_client_git.depends.ocamldep-output
-       ocamlc api/ocaml/git/datakit_client_git.{cmi,cmti}
-       ocamlc api/ocaml/git/datakit_client_git.{cmo,cmt}
-       ocamlc api/ocaml/git/datakit_client_git.cma
-     ocamlopt api/ocaml/git/datakit_client_git.{cmx,o}
-     ocamlopt api/ocaml/git/datakit_client_git.{a,cmxa}
-     ocamlopt api/ocaml/git/datakit_client_git.cmxs
[datakit-client-git: jbuilder runtest] Command started
+ jbuilder "runtest" "tests/datakit-git" (CWD=/home/opam/.opam/4.03.0/build/datakit-client-git.dev)
-     ocamldep tests/datakit-git/test.depends.ocamldep-output
-     ocamldep api/ocaml/datakit_client.depends.ocamldep-output
-     ocamldep api/ocaml/datakit_client.dependsi.ocamldep-output
-     ocamldep src/datakit-io/datakit_io.depends.ocamldep-output
-     ocamldep src/datakit-io/datakit_io.dependsi.ocamldep-output
-     ocamldep tests/common/test.dependsi.ocamldep-output
-     ocamldep tests/common/test.depends.ocamldep-output
-     ocamldep tests/datakit-git/test.dependsi.ocamldep-output
-       ocamlc api/ocaml/datakit_client.{cmi,cmti}
-       ocamlc src/datakit-io/datakit_io.{cmi,cmti}
-       ocamlc api/ocaml/git/datakit_client_git.{cmi,cmti}
-       ocamlc tests/common/test_client.{cmi,cmti}
-     ocamlopt api/ocaml/datakit_client.{cmx,o}
-     ocamlopt api/ocaml/datakit_client.{a,cmxa}
-       ocamlc tests/common/test_utils.{cmi,cmo,cmt}
-       ocamlc tests/datakit-git/test.{cmi,cmti}
-     ocamlopt src/datakit-io/datakit_io.{cmx,o}
-     ocamlopt src/datakit-io/datakit_io.{a,cmxa}
-     ocamlopt tests/common/test_utils.{cmx,o}
-     ocamlopt api/ocaml/git/datakit_client_git.{cmx,o}
-     ocamlopt api/ocaml/git/datakit_client_git.{a,cmxa}
-     ocamlopt tests/common/test_client.{cmx,o}
-     ocamlopt tests/common/test.{a,cmxa}
-     ocamlopt tests/datakit-git/test.{cmx,o}
-     ocamlopt tests/datakit-git/test.exe
-         test alias tests/datakit-git/runtest
- /bin/sh: tput: not found
- stty: standard input: Not a tty
- Testing datakit-git.
- [33m ...[m                [36mclient[m          0   Transaction.[32m[OK][m                [36mclient[m          0   Transaction.
- [33m ...[m                [36mclient[m          1   Watch.[32m[OK][m                [36mclient[m          1   Watch.
- [33m ...[m                [36mclient[m          2   Make dirs.[32m[OK][m                [36mclient[m          2   Make dirs.
- [33m ...[m                [36mclient[m          3   Truncate.[32m[OK][m                [36mclient[m          3   Truncate.
- [33m ...[m                [36mclient[m          4   Parents.[32m[OK][m                [36mclient[m          4   Parents.
- [33m ...[m                [36mclient[m          5   Merge.[32m[OK][m                [36mclient[m          5   Merge.
- [33m ...[m                [36mclient[m          6   Diff.[32m[OK][m                [36mclient[m          6   Diff.
- [33m ...[m                [36mclient[m          7   Merge_metadata.[32m[OK][m                [36mclient[m          7   Merge_metadata.
- [33m ...[m                [36mclient[m          8   Merge empty.[32m[OK][m                [36mclient[m          8   Merge empty.
- [33m ...[m                [36mclient[m          9   Conflicts.[32m[OK][m                [36mclient[m          9   Conflicts.
- [33m ...[m                [36mclient[m         10   Large write.[32m[OK][m                [36mclient[m         10   Large write.
- [33m ...[m                [36mclient[m         11   Remove.[32m[OK][m                [36mclient[m         11   Remove.
- [33m ...[m                [36mclient[m         12   Remotes.[33m[SKIP][m              [36mclient[m         12   Remotes.
- [33m ...[m                [36mclient[m         13   Create_or_replace.[33m[SKIP][m              [36mclient[m         13   Create_or_replace.
- The full test results are available in `_build/_tests`.
- [32mTest Successful[m in 0.396s. 12 tests run.
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client-git.dev/_build/install/default/lib/datakit-client-git/META" "/home/opam/.opam/4.03.0/lib/datakit-client-git/META"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client-git.dev/_build/install/default/lib/datakit-client-git/opam" "/home/opam/.opam/4.03.0/lib/datakit-client-git/opam"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client-git.dev/_build/install/default/lib/datakit-client-git/datakit_client_git.cmi" "/home/opam/.opam/4.03.0/lib/datakit-client-git/datakit_client_git.cmi"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client-git.dev/_build/install/default/lib/datakit-client-git/datakit_client_git.cmx" "/home/opam/.opam/4.03.0/lib/datakit-client-git/datakit_client_git.cmx"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client-git.dev/_build/install/default/lib/datakit-client-git/datakit_client_git.cmt" "/home/opam/.opam/4.03.0/lib/datakit-client-git/datakit_client_git.cmt"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client-git.dev/_build/install/default/lib/datakit-client-git/datakit_client_git.cmti" "/home/opam/.opam/4.03.0/lib/datakit-client-git/datakit_client_git.cmti"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client-git.dev/_build/install/default/lib/datakit-client-git/datakit_client_git.mli" "/home/opam/.opam/4.03.0/lib/datakit-client-git/datakit_client_git.mli"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client-git.dev/_build/install/default/lib/datakit-client-git/datakit_client_git.cma" "/home/opam/.opam/4.03.0/lib/datakit-client-git/datakit_client_git.cma"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client-git.dev/_build/install/default/lib/datakit-client-git/datakit_client_git.cmxa" "/home/opam/.opam/4.03.0/lib/datakit-client-git/datakit_client_git.cmxa"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client-git.dev/_build/install/default/lib/datakit-client-git/datakit_client_git.a" "/home/opam/.opam/4.03.0/lib/datakit-client-git/datakit_client_git.a"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client-git.dev/_build/install/default/lib/datakit-client-git/datakit_client_git.cmxs" "/home/opam/.opam/4.03.0/lib/datakit-client-git/datakit_client_git.cmxs"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client-git.dev/_build/install/default/doc/datakit-client-git/README.md" "/home/opam/.opam/4.03.0/doc/datakit-client-git/README.md"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client-git.dev/_build/install/default/doc/datakit-client-git/LICENSE.md" "/home/opam/.opam/4.03.0/doc/datakit-client-git/LICENSE.md"
+ install "-m" "0644" "/home/opam/.opam/4.03.0/build/datakit-client-git.dev/_build/install/default/doc/datakit-client-git/CHANGES.md" "/home/opam/.opam/4.03.0/doc/datakit-client-git/CHANGES.md"
-> installed datakit-client-git.dev
Done.
 ---> 5bc3dc5e83a0
Removing intermediate container 3622beecfa61
Removing intermediate container 3dd9277d97cd
Removing intermediate container a908ebba8668
Error removing intermediate container a1151d52be44: No such container: a1151d52be44f358fa4ccec939207d5286d9abeb70610306c105504a91200d63
Step 21/22 : RUN sudo mkdir /data && sudo chown opam.nogroup /data && chmod 700 /data &&     sudo cp $(opam config exec -- which datakit-mount) /usr/bin/datakit-mount
 ---> Running in 8d27479b8930
 ---> f45b18ef307b
Error removing intermediate container a1151d52be44: No such container: a1151d52be44f358fa4ccec939207d5286d9abeb70610306c105504a91200d63
Step 22/22 : CMD bash -c "/usr/bin/datakit-mount -h $(getent hosts datakit | awk '{print $1}')";     bash
 ---> Running in b793dc4cf264
 ---> a29e8d99d2ce
Error removing intermediate container a1151d52be44: No such container: a1151d52be44f358fa4ccec939207d5286d9abeb70610306c105504a91200d63
Successfully built a29e8d99d2ce
[2017-06-07 15:13.00] Success
