=== Docker build Dockerfile.bridge-local-git
[2017-03-28 17:30.01] Starting...
Cloning into '/tmp/with_clonee437776'...
done.
HEAD is now at 614ea27 Batch up git pushes
[2017-03-28 17:30.02] Rewrite Dockerfile's first line to:
FROM sha256:820e958bd3a8f30a2a238887bb73bbc32a02d97f05ec00a01e0120315543e8ea
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 6.128 MBSending build context to Docker daemon 6.685 MBSending build context to Docker daemon 7.242 MBSending build context to Docker daemon 7.705 MB
Step 1/17 : FROM sha256:820e958bd3a8f30a2a238887bb73bbc32a02d97f05ec00a01e0120315543e8ea
 ---> 820e958bd3a8
Step 2/17 : RUN opam pin add github --dev -n
 ---> Running in beea78ee2c8b
github is now git-pinned to https://github.com/mirage/ocaml-github.git

[github: git]
[github: git]
[github: git]
[github: git]
[github: git]
[github: git]
[github] https://github.com/mirage/ocaml-github.git updated

 ---> 87903b03e13e
Removing intermediate container beea78ee2c8b
Step 3/17 : RUN opam pin add datakit-github.dev /home/opam/src/datakit -n
 ---> Running in 93db70e5d8eb
datakit-github is now path-pinned to /home/opam/src/datakit

[datakit-github: local]
[datakit-github] /home/opam/src/datakit/ synchronized

 ---> 88e690abc258
Removing intermediate container 93db70e5d8eb
Step 4/17 : RUN opam depext datakit-github && opam install datakit-github --deps
 ---> Running in 03dfdca2a175
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - m4
#  - ncurses-dev
#  - pkgconfig
m4
ncurses-dev
pkgconf
# All required OS packages found.

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-github: local] Command started
[datakit-github] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install asetmap 0.8.1

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asetmap: http] Command started
[asetmap: http] Command started
[asetmap.0.8.1] http://erratique.ch/software/asetmap/releases/asetmap-0.8.1.tbz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[asetmap: ocaml build] Command started
-> installed asetmap.0.8.1
Done.
 ---> eaa66fa0a366
Removing intermediate container 03dfdca2a175
Step 5/17 : COPY datakit-bridge-local-git.opam /home/opam/src/datakit/datakit-bridge-local-git.opam
 ---> 7f242615e534
Removing intermediate container f083f6c3aba1
Step 6/17 : RUN opam pin add datakit-bridge-local-git.dev /home/opam/src/datakit -n
 ---> Running in f6fc7a5ce520
datakit-bridge-local-git is now path-pinned to /home/opam/src/datakit

[datakit-bridge-local-git: local]
[datakit-bridge-local-git] /home/opam/src/datakit/ synchronized
[datakit-bridge-local-git] Installing new package description from
/home/opam/src/datakit

 ---> a31e1d3a768f
Removing intermediate container f6fc7a5ce520
Step 7/17 : RUN opam depext datakit-bridge-local-git && opam install datakit-bridge-local-git --deps
 ---> Running in 31d0423c26fc
# Detecting depexts using flags: x86_64 linux alpine
# The following system packages are needed:
#  - gmp-dev
#  - linux-headers
#  - m4
#  - ncurses-dev
#  - openssl-dev
#  - perl
#  - pkgconfig
#  - zlib-dev
m4
ncurses-dev
pkgconf
# The following new OS packages need to be installed: gmp-dev linux-headers openssl-dev perl zlib-dev
The following command needs to be run through "sudo":
    apk add gmp-dev linux-headers openssl-dev perl zlib-dev
(1/8) Installing libgmpxx (6.1.1-r0)
(2/8) Installing gmp-dev (6.1.1-r0)
(3/8) Installing linux-headers (4.4.6-r1)
(4/8) Installing zlib-dev (1.2.8-r2)
(5/8) Installing libcrypto1.0 (1.0.2k-r0)
(6/8) Installing libssl1.0 (1.0.2k-r0)
(7/8) Installing openssl-dev (1.0.2k-r0)
(8/8) Installing perl (5.24.0-r0)
Executing busybox-1.25.1-r0.trigger
OK: 654 MiB in 101 packages
# OS packages installation successful

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-bridge-local-git: local] Command started
[datakit-bridge-local-git] /home/opam/src/datakit/ already up-to-date
The following actions will be performed:
  - install   camlzip            1.07                    
  - install   mtime              0.8.4                   
  - downgrade sexplib            v0.9.0 to 113.33.00+4.03
  - install   magic-mime         1.0.0                   
  - install   conf-gmp           1                       
  - install   ocamlgraph         1.8.7                   
  - remove    ppx_metaquot       v0.9.0                         [conflicts with ppx_core]
  - install   mirage-no-solo5    1                       
  - install   cpuid              0.1.0                   
  - install   conf-perl          1                       
  - downgrade cmdliner           1.0.0 to 0.9.8          
  - install   fieldslib          113.24.00               
  - install   bin_prot           113.33.00+4.03          
  - install   base64             2.1.2                   
  - install   mirage-no-xen      1                       
  - recompile cstruct            2.3.2                          [uses sexplib]
  - downgrade ppx_core           v0.9.0 to 113.33.01+4.03
  - install   zarith             1.4.1                   
  - install   uutf               1.0.1                   
  - install   crunch             2.0.0                   
  - recompile named-pipe         0.4.0                          [uses cmdliner]
  - recompile fmt                0.8.2                          [uses cmdliner]
  - install   mstruct            1.3.2                   
  - install   hex                1.0.0                   
  - recompile io-page            1.6.1                          [uses cstruct]
  - downgrade ppx_optcomp        v0.9.0 to 113.33.01+4.03       [uses ppx_core]
  - install   jsonm              1.0.1                   
  - recompile mirage-flow        1.2.0                          [uses fmt]
  - recompile mirage-device      1.0.0                          [uses fmt]
  - recompile logs               0.6.2                          [uses cmdliner]
  - recompile alcotest           0.7.2                          [uses cmdliner]
  - downgrade ppx_driver         v0.9.0 to 113.33.02+4.03       [uses ppx_core]
  - install   ezjsonm            0.4.3                   
  - recompile mirage-channel     3.0.0                          [uses mirage-flow]
  - recompile mirage-kv          1.0.0                          [uses fmt]
  - recompile mirage-clock       1.2.0                          [uses mirage-device]
  - install   irmin-watcher      0.2.0                   
  - downgrade ppx_type_conv      v0.9.0 to 113.33.02+4.03       [uses ppx_core]
  - install   mirage-tc          0.3.0                   
  - recompile mirage-kv-lwt      1.0.0                          [uses cstruct]
  - recompile mirage-flow-lwt    1.2.0                          [uses fmt, cstruct]
  - downgrade ppx_sexp_conv      v0.9.0 to 113.33.01+4.03       [uses ppx_core, sexplib]
  - install   ppx_fields_conv    113.33.00+4.03          
  - recompile mirage-channel-lwt 3.0.0                          [uses cstruct]
  - install   nocrypto           0.5.4                   
  - install   ipaddr             2.7.2                   
  - recompile uri                1.9.2                          [uses sexplib]
  - recompile protocol-9p        0.9.0                          [uses cmdliner, sexplib]
  - install   conduit            0.15.0                  
  - recompile datakit-client     dev*                           [uses cmdliner]
  - install   cohttp             0.22.0                  
  - install   datakit-github     dev*                    
  - install   git                1.9.3                   
  - install   git-unix           1.7.1                   
  - install   irmin              0.12.0                  
  - install   irmin-unix         0.12.0                  
===== 31 to install | 17 to recompile | 7 to downgrade | 1 to remove =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[base64: http] Command started
[bin_prot: http] Command started
[camlzip: http] Command started
[bin_prot: http] Command started
[bin_prot.113.33.00+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/bin_prot-113.33.00+4.03.tar.gz downloaded
[cmdliner: http] Command started
[cmdliner: http] Command started
[cmdliner.0.9.8] http://erratique.ch/software/cmdliner/releases/cmdliner-0.9.8.tbz downloaded
[cohttp: http] Command started
[base64: http] Command started
[base64.2.1.2] https://github.com/mirage/ocaml-base64/releases/download/v2.1.2/base64-2.1.2.tbz downloaded
[conduit: http] Command started
[camlzip: http] Command started
[camlzip.1.07] https://github.com/xavierleroy/camlzip/archive/rel107.zip downloaded
[cpuid: http] Command started
[conduit: http] Command started
[conduit.0.15.0] https://github.com/mirage/ocaml-conduit/archive/v0.15.0.tar.gz downloaded
[crunch: http] Command started
[cpuid: http] Command started
[cpuid.0.1.0] https://github.com/pqwy/cpuid/releases/download/v0.1.0/cpuid-0.1.0.tbz downloaded
[datakit-client: local] Command started
[datakit-client.dev] /home/opam/src/datakit/ already up-to-date
[datakit-github: local] Command started
[datakit-github.dev] /home/opam/src/datakit/ already up-to-date
[ezjsonm: http] Command started
[cohttp: http] Command started
[cohttp.0.22.0] https://github.com/mirage/ocaml-cohttp/archive/v0.22.0.tar.gz downloaded
[fieldslib: http] Command started
[fieldslib: http] Command started
[fieldslib.113.24.00] https://ocaml.janestreet.com/ocaml-core/113.24/files/fieldslib-113.24.00.tar.gz downloaded
[git: http] Command started
[crunch: http] Command started
[crunch.2.0.0] https://github.com/mirage/ocaml-crunch/releases/download/2.0.0/crunch-2.0.0.tbz downloaded
[hex: http] Command started
[ezjsonm: http] Command started
[ezjsonm.0.4.3] https://github.com/mirage/ezjsonm/archive/0.4.3.tar.gz downloaded
[ipaddr: http] Command started
[hex: http] Command started
[hex.1.0.0] https://github.com/mirage/ocaml-hex/archive/1.0.0.tar.gz downloaded
[irmin: http] Command started
[ipaddr: http] Command started
[ipaddr.2.7.2] https://github.com/mirage/ocaml-ipaddr/releases/download/2.7.2/ipaddr-2.7.2.tbz downloaded
[irmin-watcher: http] Command started
[git: http] Command started
[git.1.9.3] https://github.com/mirage/ocaml-git/releases/download/1.9.3/git-1.9.3.tbz downloaded
[jsonm: http] Command started
[jsonm: http] Command started
[jsonm.1.0.1] http://erratique.ch/software/jsonm/releases/jsonm-1.0.1.tbz downloaded
[magic-mime: http] Command started
[irmin-watcher: http] Command started
[irmin-watcher.0.2.0] https://github.com/samoht/irmin-watcher/releases/download/0.2.0/irmin-watcher-0.2.0.tbz downloaded
[mirage-tc: http] Command started
[irmin: http] Command started
[irmin.0.12.0] https://github.com/mirage/irmin/releases/download/0.12.0/irmin-0.12.0.tbz downloaded
[mstruct: http] Command started
[magic-mime: http] Command started
[magic-mime.1.0.0] https://github.com/mirage/ocaml-magic-mime/archive/v1.0.0.tar.gz downloaded
[mtime: http] Command started
[mtime: http] Command started
[mtime.0.8.4] http://erratique.ch/software/mtime/releases/mtime-0.8.4.tbz downloaded
[nocrypto: http] Command started
[mirage-tc: http] Command started
[mirage-tc.0.3.0] https://github.com/mirage/mirage-tc/archive/0.3.0.tar.gz downloaded
[ocamlgraph: http] Command started
[mstruct: http] Command started
[mstruct.1.3.2] https://github.com/mirage/ocaml-mstruct/archive/1.3.2.tar.gz downloaded
[ppx_core: http] Command started
[ppx_core: http] Command started
[ppx_core.113.33.01+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_core-113.33.01+4.03.tar.gz downloaded
[ppx_driver: http] Command started
[ppx_driver: http] Command started
[ppx_driver.113.33.02+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_driver-113.33.02+4.03.tar.gz downloaded
[ppx_fields_conv: http] Command started
[ppx_fields_conv: http] Command started
[ppx_fields_conv.113.33.00+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_fields_conv-113.33.00+4.03.tar.gz downloaded
[ppx_optcomp: http] Command started
[nocrypto: http] Command started
[nocrypto.0.5.4] https://github.com/mirleft/ocaml-nocrypto/releases/download/v0.5.4/nocrypto-0.5.4.tbz downloaded
[ppx_sexp_conv: http] Command started
[ppx_sexp_conv: http] Command started
[ppx_sexp_conv.113.33.01+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_sexp_conv-113.33.01+4.03.tar.gz downloaded
[ppx_type_conv: http] Command started
[ppx_optcomp: http] Command started
[ppx_optcomp.113.33.01+4.03] https://github.com/janestreet/ppx_optcomp/archive/113.33.01+4.03.tar.gz downloaded
[sexplib: http] Command started
[ppx_type_conv: http] Command started
[ppx_type_conv.113.33.02+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/ppx_type_conv-113.33.02+4.03.tar.gz downloaded
[uutf: http] Command started
[uutf: http] Command started
[uutf.1.0.1] http://erratique.ch/software/uutf/releases/uutf-1.0.1.tbz downloaded
[zarith: http] Command started
[sexplib: http] Command started
[sexplib.113.33.00+4.03] https://ocaml.janestreet.com/ocaml-core/113.33/files/sexplib-113.33.00+4.03.tar.gz downloaded
[zarith: http] Command started
[zarith.1.4.1] https://forge.ocamlcore.org/frs/download.php/1574/zarith-1.4.1.tgz downloaded
[ocamlgraph: http] Command started
[ocamlgraph.1.8.7] http://ocamlgraph.lri.fr/download/ocamlgraph-1.8.7.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> removed   alcotest.0.7.2
-> removed   datakit-client.dev
-> removed   protocol-9p.0.9.0
-> removed   mirage-channel-lwt.3.0.0
[io-page: ocamlfind remove] Command started
-> removed   logs.0.6.2
-> removed   mirage-channel.3.0.0
-> removed   mirage-flow-lwt.1.2.0
-> removed   mirage-clock.1.2.0
-> removed   mirage-flow.1.2.0
-> removed   mirage-kv-lwt.1.0.0
-> removed   mirage-kv.1.0.0
-> removed   mirage-device.1.0.0
-> removed   fmt.0.8.2
-> removed   named-pipe.0.4.0
-> removed   cmdliner.1.0.0
[uri: ocamlfind remove] Command started
[base64: ocaml build] Command started
[bin_prot: ./configure] Command started
-> removed   io-page.1.6.1
[cstruct: make js-uninstall] Command started
-> removed   uri.1.9.2
-> removed   ppx_sexp_conv.v0.9.0
-> removed   ppx_type_conv.v0.9.0
-> removed   ppx_metaquot.v0.9.0
-> removed   ppx_driver.v0.9.0
-> removed   ppx_optcomp.v0.9.0
-> removed   ppx_core.v0.9.0
[camlzip: make all] Command started
[cstruct: ocamlfind remove] Command started
-> removed   cstruct.2.3.2
-> removed   sexplib.v0.9.0
[cmdliner: ocaml] Command started
-> installed base64.2.1.2
[conf-gmp: sh] Command started
[cmdliner: ocaml] Command started
-> installed conf-gmp.1
[conf-perl: perl] Command started
-> installed conf-perl.1
[cpuid: ocaml build] Command started
[camlzip: make allopt] Command started
[camlzip: make install-findlib] Command started
-> installed camlzip.1.07
[fieldslib: ./configure] Command started
-> installed cmdliner.0.9.8
[crunch: ocaml build] Command started
-> installed cpuid.0.1.0
[fmt: ocaml build] Command started
[bin_prot: make] Command started
-> installed crunch.2.0.0
[magic-mime: ./configure] Command started
[fieldslib: make] Command started
-> installed fmt.0.8.2
[alcotest: ocaml build] Command started
-> installed alcotest.0.7.2
[logs: ocaml build] Command started
[magic-mime: make] Command started
-> installed fieldslib.113.24.00
[mirage-device: ocaml build] Command started
-> installed mirage-device.1.0.0
[mirage-clock: ocaml build] Command started
-> installed logs.0.6.2
[irmin-watcher: ocaml build] Command started
-> installed mirage-clock.1.2.0
[mirage-flow: ocaml build] Command started
-> installed mirage-flow.1.2.0
[mirage-channel: ocaml build] Command started
-> installed bin_prot.113.33.00+4.03
[mirage-kv: ocaml build] Command started
-> installed mirage-channel.3.0.0
-> installed mirage-no-solo5.1
-> installed mirage-no-xen.1
[mtime: ocaml build] Command started
-> installed mirage-kv.1.0.0
[named-pipe: ocaml build] Command started
-> installed irmin-watcher.0.2.0
[ocamlgraph: touch] Command started
[ocamlgraph: ./configure] Command started
[magic-mime: make install] Command started
[ocamlgraph: make] Command started
-> installed mtime.0.8.4
[ppx_core: ./configure] Command started
-> installed named-pipe.0.4.0
[sexplib: ./configure] Command started
-> installed magic-mime.1.0.0
[uutf: ocaml build] Command started
[ppx_core: make] Command started
-> installed uutf.1.0.1
[jsonm: ocaml build] Command started
[sexplib: make] Command started
-> installed jsonm.1.0.1
[zarith: ./configure] Command started
[zarith: make] Command started
[ocamlgraph: make install-findlib] Command started
-> installed ocamlgraph.1.8.7
[zarith: make install] Command started
-> installed zarith.1.4.1
-> installed sexplib.113.33.00+4.03
[cstruct: ./configure] Command started
[cstruct: make] Command started
[cstruct: make install] Command started
[cstruct: make js-install] Command started
-> installed cstruct.2.3.2
[hex: ./configure] Command started
[io-page: ./configure] Command started
[mirage-flow-lwt: ocaml build] Command started
-> installed mirage-flow-lwt.1.2.0
[mirage-kv-lwt: ocaml build] Command started
-> installed mirage-kv-lwt.1.0.0
[mstruct: ./configure] Command started
-> installed ppx_core.113.33.01+4.03
[ppx_optcomp: ./configure] Command started
[hex: make] Command started
[io-page: make] Command started
[mstruct: make] Command started
[ppx_optcomp: make] Command started
[hex: make install] Command started
[io-page: make install] Command started
[mstruct: make install] Command started
-> installed hex.1.0.0
[ezjsonm: ./configure] Command started
-> installed io-page.1.6.1
[mirage-channel-lwt: ocaml build] Command started
-> installed ppx_optcomp.113.33.01+4.03
[ppx_driver: ./configure] Command started
-> installed mstruct.1.3.2
-> installed mirage-channel-lwt.3.0.0
[ezjsonm: make] Command started
[ppx_driver: make] Command started
[ezjsonm: make install] Command started
-> installed ppx_driver.113.33.02+4.03
[ppx_type_conv: ./configure] Command started
-> installed ezjsonm.0.4.3
[mirage-tc: ./configure] Command started
[ppx_type_conv: make] Command started
[mirage-tc: make] Command started
-> installed ppx_type_conv.113.33.02+4.03
[ppx_fields_conv: ./configure] Command started
[ppx_sexp_conv: ./configure] Command started
[mirage-tc: make install] Command started
[ppx_fields_conv: make] Command started
[ppx_sexp_conv: make] Command started
-> installed mirage-tc.0.3.0
-> installed ppx_fields_conv.113.33.00+4.03
-> installed ppx_sexp_conv.113.33.01+4.03
[ipaddr: ocaml build] Command started
[nocrypto: ocaml build] Command started
[protocol-9p: ocaml build] Command started
[uri: ocaml setup.ml] Command started
-> installed ipaddr.2.7.2
[uri: ocaml setup.ml] Command started
[uri: ocaml setup.ml] Command started
-> installed protocol-9p.0.9.0
-> installed uri.1.9.2
[conduit: ./configure] Command started
[datakit-client: ocaml build] Command started
[conduit: make] Command started
-> installed nocrypto.0.5.4
-> installed datakit-client.dev
[datakit-github: ocaml build] Command started
-> installed datakit-github.dev
[conduit: make install] Command started
-> installed conduit.0.15.0
[cohttp: make] Command started
[cohttp: make install] Command started
-> installed cohttp.0.22.0
[git: ocaml build] Command started
-> installed git.1.9.3
-> installed git-unix.1.7.1
[irmin: ocaml build] Command started
-> installed irmin.0.12.0
-> installed irmin-unix.0.12.0
Done.
 ---> 649a85c86af0
Removing intermediate container 31d0423c26fc
Step 8/17 : COPY . /home/opam/src/datakit/
 ---> 92039576c161
Removing intermediate container af5569c3c95a
Step 9/17 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in 5a5849323ed5
 ---> 886b5a746930
Removing intermediate container 5a5849323ed5
Step 10/17 : RUN cd /home/opam/src/datakit &&     git diff && git status --porcelain &&     git checkout . && scripts/watermark.sh &&     git status --porcelain
 ---> Running in 6a57a16ecf4b
diff --git a/Dockerfile.bridge-local-git b/Dockerfile.bridge-local-git
index d93d44e..91ca895 100644
--- a/Dockerfile.bridge-local-git
+++ b/Dockerfile.bridge-local-git
@@ -1,4 +1,4 @@
-FROM docker/datakit:client
+FROM sha256:820e958bd3a8f30a2a238887bb73bbc32a02d97f05ec00a01e0120315543e8ea
 
 RUN opam pin add github --dev -n
 RUN opam pin add datakit-github.dev /home/opam/src/datakit -n
 M Dockerfile.bridge-local-git
 M src/version.ml
 ---> e279e4492837
Removing intermediate container 6a57a16ecf4b
Step 11/17 : RUN opam update datakit-bridge-local-git
 ---> Running in 5921ac8d5ecb

=-=- Synchronizing development packages -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-bridge-local-git: local] Command started
[datakit-bridge-local-git] /home/opam/src/datakit/ synchronized

Updates available for system, apply them with 'opam upgrade':
===== 6 to install | 23 to recompile | 5 to upgrade =====
 ---> e44e68d03d05
Removing intermediate container 5921ac8d5ecb
Step 12/17 : RUN opam install datakit-bridge-local-git -vv
 ---> Running in 605f8f5d6246

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-bridge-local-git: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/system/packages.dev/datakit-bridge-local-git"
- sending incremental file list
- ./
- api/
- bridge/
- ci/
- ci/static/
- src/
- 
- sent 8,553 bytes  received 61 bytes  17,228.00 bytes/sec
- total size is 1,313,353  speedup is 152.47
[datakit-bridge-local-git] /home/opam/src/datakit/ synchronized
The following actions will be performed:
  - install datakit-bridge-local-git dev*

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-bridge-local-git: local] Command started
+ rsync "-rLptgoDrvc" "--exclude" ".git" "--exclude" "_darcs" "--exclude" ".hg" "--exclude" ".#*" "--delete" "/home/opam/src/datakit/" "/home/opam/.opam/system/packages.dev/datakit-bridge-local-git"
- sending incremental file list
- ./
- ci/
- 
- sent 8,541 bytes  received 49 bytes  17,180.00 bytes/sec
- total size is 1,313,353  speedup is 152.89
[datakit-bridge-local-git.dev] /home/opam/src/datakit/ synchronized

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[datakit-bridge-local-git: ocaml build] Command started
+ ocaml "pkg/pkg.ml" "build" "--pinned" "true" "-n" "datakit-bridge-local-git" (CWD=/home/opam/.opam/system/build/datakit-bridge-local-git.dev)
- ocamlfind ocamlopt unix.cmxa -I /home/opam/.opam/system/lib/ocamlbuild /home/opam/.opam/system/lib/ocamlbuild/ocamlbuildlib.cmxa -linkpkg myocamlbuild.ml /home/opam/.opam/system/lib/ocamlbuild/ocamlbuild.cmx -o myocamlbuild
- ocamlfind ocamldep -package 'irmin.unix, irmin.git, irmin-watcher, datakit-github' -package 'cmdliner, logs, datakit-client, protocol-9p.unix, fmt.cli, fmt.tty, logs.cli' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-github,datakit-client -modules bridge/local/main.ml > bridge/local/main.ml.depends
- ocamlfind ocamldep -package 'irmin.unix, irmin.git, irmin-watcher, datakit-github' -package 'cmdliner, logs, datakit-client, protocol-9p.unix, fmt.cli, fmt.tty, logs.cli' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-github,datakit-client -modules bridge/local/main.mli > bridge/local/main.mli.depends
- ocamlfind ocamlc -c -g -annot -bin-annot -safe-string -strict-sequence -package 'irmin.unix, irmin.git, irmin-watcher, datakit-github' -package 'cmdliner, logs, datakit-client, protocol-9p.unix, fmt.cli, fmt.tty, logs.cli' -w A -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-github,datakit-client -I bridge/local -o bridge/local/main.cmi bridge/local/main.mli
- ocamlfind ocamldep -package 'irmin.unix, irmin.git, irmin-watcher, datakit-github' -package 'cmdliner, logs, datakit-client, protocol-9p.unix, fmt.cli, fmt.tty, logs.cli' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-github,datakit-client -modules bridge/local/sync.ml > bridge/local/sync.ml.depends
- ocamlfind ocamldep -package 'irmin.unix, irmin.git, irmin-watcher, datakit-github' -package 'cmdliner, logs, datakit-client, protocol-9p.unix, fmt.cli, fmt.tty, logs.cli' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-github,datakit-client -modules bridge/local/sync.mli > bridge/local/sync.mli.depends
- ocamlfind ocamlc -c -g -annot -bin-annot -safe-string -strict-sequence -package 'irmin.unix, irmin.git, irmin-watcher, datakit-github' -package 'cmdliner, logs, datakit-client, protocol-9p.unix, fmt.cli, fmt.tty, logs.cli' -w A -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-github,datakit-client -I bridge/local -o bridge/local/sync.cmi bridge/local/sync.mli
- ocamlfind ocamlopt -c -g -annot -bin-annot -safe-string -strict-sequence -package 'irmin.unix, irmin.git, irmin-watcher, datakit-github' -package 'cmdliner, logs, datakit-client, protocol-9p.unix, fmt.cli, fmt.tty, logs.cli' -w A -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-github,datakit-client -I bridge/local -o bridge/local/sync.cmx bridge/local/sync.ml
- ocamlfind ocamlopt -c -g -annot -bin-annot -safe-string -strict-sequence -package 'irmin.unix, irmin.git, irmin-watcher, datakit-github' -package 'cmdliner, logs, datakit-client, protocol-9p.unix, fmt.cli, fmt.tty, logs.cli' -w A -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-github,datakit-client -I bridge/local -o bridge/local/main.cmx bridge/local/main.ml
- ocamlfind ocamlopt -linkpkg -g -package 'irmin.unix, irmin.git, irmin-watcher, datakit-github' -package 'cmdliner, logs, datakit-client, protocol-9p.unix, fmt.cli, fmt.tty, logs.cli' -package 'bytes lwt astring logs result cstruct fmt rresult' -package datakit-github,datakit-client -I bridge/local bridge/local/sync.cmx bridge/local/main.cmx -o bridge/local/main.native
+ install "-m" "0755" "/home/opam/.opam/system/build/datakit-bridge-local-git.dev/_build/bridge/local/main.native" "/home/opam/.opam/system/bin/datakit-bridge-local-git"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-bridge-local-git.dev/_build/CHANGES.md" "/home/opam/.opam/system/doc/datakit-bridge-local-git/CHANGES.md"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-bridge-local-git.dev/_build/LICENSE.md" "/home/opam/.opam/system/doc/datakit-bridge-local-git/LICENSE.md"
+ install "-m" "0644" "/home/opam/.opam/system/build/datakit-bridge-local-git.dev/_build/README.md" "/home/opam/.opam/system/doc/datakit-bridge-local-git/README.md"
-> installed datakit-bridge-local-git.dev
Done.
 ---> 32ab46e9cdea
Removing intermediate container 605f8f5d6246
Step 13/17 : RUN opam config exec -- ocaml /home/opam/src/datakit/check-libev.ml
 ---> Running in 4c0455adeea1
 ---> fa416c9cd63a
Removing intermediate container 4c0455adeea1
Step 14/17 : RUN sudo cp $(opam config exec -- which datakit-bridge-local-git) /usr/bin/
 ---> Running in c0b2f4b82f14
 ---> dcac2d40f1cc
Removing intermediate container c0b2f4b82f14
Step 15/17 : USER root
 ---> Running in bd2c585566f0
 ---> a64b6efc7888
Removing intermediate container bd2c585566f0
Step 16/17 : ENTRYPOINT /usr/bin/datakit-bridge-local-git
 ---> Running in 87aef00fc229
 ---> 0f0395352f79
Removing intermediate container 87aef00fc229
Step 17/17 : CMD -v --datakit=tcp:datakit:5640
 ---> Running in e63deb17687a
 ---> b90d4e7e56e8
Removing intermediate container e63deb17687a
Successfully built b90d4e7e56e8
[2017-03-28 17:33.01] Success
