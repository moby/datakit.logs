=== Docker build Dockerfile
[2019-01-17 20:13.30] Starting...
Cloning into '/tmp/with_clone38372dc'...
done.
HEAD is now at afc0f98 fix Dockerfile from lines to be alpine and opam2 only
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 5.703 MB
Step 1/22 : FROM ocaml/opam2:alpine
alpine: Pulling from ocaml/opam2
Digest: sha256:997ac6313af61f6bed98d9ffb25347dd77027724af9fd141d87edbcd94029f57
Status: Image is up to date for ocaml/opam2:alpine
 ---> 5f577d329d68
Step 2/22 : RUN sudo apk add --no-cache tzdata aspcud gmp-dev perl libev-dev m4
 ---> Using cache
 ---> 17d53af3f968
Step 3/22 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Using cache
 ---> 85680701b55a
Step 4/22 : RUN git -C /home/opam/opam-repository fetch origin &&     git -C /home/opam/opam-repository reset da99aec5e0ecc83bd86926b620eff45b99c82c26 --hard &&     opam update -u
 ---> Using cache
 ---> 4212343800b4
Step 5/22 : RUN opam install alcotest lwt conf-libev inotify
 ---> Using cache
 ---> 91a5695bd565
Step 6/22 : COPY check-libev.ml /tmp/check-libev.ml
 ---> Using cache
 ---> a5b540396c1c
Step 7/22 : RUN opam exec -- ocaml /tmp/check-libev.ml
 ---> Using cache
 ---> ab9716b6f201
Step 8/22 : COPY *.opam /home/opam/src/datakit/
 ---> Using cache
 ---> 0e4149b09834
Step 9/22 : RUN opam pin add /home/opam/src/datakit/ -n
 ---> Using cache
 ---> dda9449a80e6
Step 10/22 : RUN opam install datakit --deps -t
 ---> Running in a97f8119753c

<><> Synchronising pinned packages ><><><><><><><><><><><><><><><><><><><><><><>
[datakit.0.12.0] no changes from file:///home/opam/src/datakit

The following actions will be performed:
  - install uutf                    1.0.1
  - install ppx_tools               5.1+4.06.0
  - install base64                  2.3.0
  - install seq                     base
  - install num                     1.1
  - install win-error               0.3
  - install mirage-device           1.1.0
  - install mtime                   1.1.0
  - install ocb-stubblr             0.1.1-1
  - install stringext               1.5.0
  - install magic-mime              1.1.1
  - install decompress              0.7
  - install rresult                 0.6.0
  - install ocamlgraph              1.8.8
  - install logs                    0.6.2
  - install asetmap                 0.8.1
  - install ocaml-compiler-libs     v0.11.0
  - install sexplib0                v0.11.0
  - install ocplib-endian           1.0
  - install duration                0.1.1
  - install ppx_derivers            1.0
  - install mirage-flow             1.5.0
  - install jsonm                   1.0.1
  - install re                      1.8.0
  - install mirage-time             1.1.0
  - install mirage-kv               1.1.1
  - install mirage-clock            2.0.0
  - install named-pipe              0.4.0
  - install win-eventlog            0.2
  - install irmin-watcher           0.4.0
  - install asl                     0.11
  - install parsexp                 v0.11.0
  - install macaddr                 3.0.0
  - install base                    v0.11.1
  - install ocaml-migrate-parsetree 1.2.0
  - install mirage-channel          3.1.0
  - install prometheus              0.5
  - install mirage-time-lwt         1.1.0
  - install sexplib                 v0.11.0
  - install ipaddr                  3.0.0
  - install stdio                   v0.11.0
  - install cstruct                 3.2.1
  - install ppxlib                  0.5.0
  - install configurator            v0.11.0
  - install mstruct                 1.4.0
  - install mirage-kv-lwt           1.1.0
  - install mirage-flow-lwt         1.5.0
  - install hex                     1.2.0
  - install datakit-server          0.12.0*
  - install datakit-client          0.12.0*
  - install cstruct-lwt             3.2.1
  - install ppx_sexp_conv           v0.11.2
  - install fieldslib               v0.11.0
  - install io-page                 2.0.1
  - install hvsock                  1.0.2
  - install uri                     2.1.0
  - install ppx_fields_conv         v0.11.0
  - install mirage-channel-lwt      3.1.0
  - install io-page-unix            2.0.1
  - install irmin                   1.4.0
  - install git                     1.11.5
  - install conduit                 1.4.0
  - install cohttp                  1.2.0
  - install protocol-9p             0.12.1
  - install irmin-mem               1.3.0
  - install irmin-git               1.3.0
  - install conduit-lwt             1.4.0
  - install cohttp-lwt              1.2.0
  - install protocol-9p-unix        0.12.1
  - install datakit-server-9p       0.12.0*
  - install conduit-lwt-unix        1.4.0
  - install datakit-client-9p       0.12.0*
  - install cohttp-lwt-unix         1.2.0
  - install prometheus-app          0.5
===== 74 to install =====

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[asetmap.0.8.1] downloaded from http://erratique.ch/software/asetmap/releases/asetmap-0.8.1.tbz
[asl.0.11] downloaded from https://github.com/mirage/ocaml-asl/releases/download/0.11/asl-0.11.tbz
[base64.2.3.0] downloaded from https://github.com/mirage/ocaml-base64/releases/download/v2.3.0/base64-v2.3.0.tbz
[base.v0.11.1] downloaded from https://github.com/janestreet/base/releases/download/v0.11.1/base-v0.11.1.tbz
[cohttp.1.2.0] downloaded from https://github.com/mirage/ocaml-cohttp/releases/download/v1.2.0/cohttp-v1.2.0.tbz
[cohttp-lwt.1.2.0] downloaded from https://github.com/mirage/ocaml-cohttp/releases/download/v1.2.0/cohttp-v1.2.0.tbz
[cohttp-lwt-unix.1.2.0] downloaded from https://github.com/mirage/ocaml-cohttp/releases/download/v1.2.0/cohttp-v1.2.0.tbz
[conduit.1.4.0] downloaded from https://github.com/mirage/ocaml-conduit/releases/download/v1.4.0/conduit-v1.4.0.tbz
[conduit-lwt.1.4.0] downloaded from https://github.com/mirage/ocaml-conduit/releases/download/v1.4.0/conduit-v1.4.0.tbz
[configurator.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/configurator-v0.11.0.tar.gz
[conduit-lwt-unix.1.4.0] downloaded from https://github.com/mirage/ocaml-conduit/releases/download/v1.4.0/conduit-v1.4.0.tbz
[cstruct.3.2.1] downloaded from https://github.com/mirage/ocaml-cstruct/releases/download/v3.2.1/cstruct-3.2.1.tbz
[cstruct-lwt.3.2.1] downloaded from https://github.com/mirage/ocaml-cstruct/releases/download/v3.2.1/cstruct-3.2.1.tbz
[decompress.0.7] downloaded from https://github.com/mirage/decompress/releases/download/v0.7/decompress-0.7.tbz
[fieldslib.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/fieldslib-v0.11.0.tar.gz
[duration.0.1.1] downloaded from https://github.com/hannesm/duration/releases/download/0.1.1/duration-0.1.1.tbz
[git.1.11.5] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.11.5/git-1.11.5.tbz
[hex.1.2.0] downloaded from https://github.com/mirage/ocaml-hex/releases/download/v1.2.0/hex-1.2.0.tbz
[hvsock.1.0.2] downloaded from https://github.com/mirage/ocaml-hvsock/archive/1.0.2.tar.gz
[io-page.2.0.1] downloaded from https://github.com/mirage/io-page/releases/download/2.0.1/io-page-2.0.1.tbz
[io-page-unix.2.0.1] downloaded from https://github.com/mirage/io-page/releases/download/2.0.1/io-page-2.0.1.tbz
[ipaddr.3.0.0] downloaded from https://github.com/mirage/ocaml-ipaddr/releases/download/3.0.0/ipaddr-3.0.0.tbz
[irmin.1.4.0] downloaded from https://github.com/mirage/irmin/releases/download/1.4.0/irmin-1.4.0.tbz
[irmin-git.1.3.0] downloaded from https://github.com/mirage/irmin/releases/download/1.3.0/irmin-1.3.0.tbz
[irmin-mem.1.3.0] downloaded from https://github.com/mirage/irmin/releases/download/1.3.0/irmin-1.3.0.tbz
[jsonm.1.0.1] downloaded from http://erratique.ch/software/jsonm/releases/jsonm-1.0.1.tbz
[logs.0.6.2] downloaded from http://erratique.ch/software/logs/releases/logs-0.6.2.tbz
[macaddr.3.0.0] found in cache
[irmin-watcher.0.4.0] downloaded from https://github.com/mirage/irmin-watcher/releases/download/0.4.0/irmin-watcher-0.4.0.tbz
[magic-mime.1.1.1] downloaded from https://github.com/mirage/ocaml-magic-mime/releases/download/v1.1.1/magic-mime-v1.1.1.tbz
[mirage-channel.3.1.0] downloaded from https://github.com/mirage/mirage-channel/releases/download/v3.1.0/mirage-channel-3.1.0.tbz
[mirage-channel-lwt.3.1.0] downloaded from https://github.com/mirage/mirage-channel/releases/download/v3.1.0/mirage-channel-3.1.0.tbz
[mirage-clock.2.0.0] downloaded from https://github.com/mirage/mirage-clock/releases/download/v2.0.0/mirage-clock-v2.0.0.tbz
[mirage-device.1.1.0] downloaded from https://github.com/mirage/mirage-device/releases/download/v1.1.0/mirage-device-1.1.0.tbz
[mirage-flow.1.5.0] downloaded from https://github.com/mirage/mirage-flow/releases/download/v1.5.0/mirage-flow-1.5.0.tbz
[mirage-flow-lwt.1.5.0] downloaded from https://github.com/mirage/mirage-flow/releases/download/v1.5.0/mirage-flow-1.5.0.tbz
[mirage-kv.1.1.1] downloaded from https://github.com/mirage/mirage-kv/releases/download/v1.1.1/mirage-kv-1.1.1.tbz
[mirage-kv-lwt.1.1.0] downloaded from https://github.com/mirage/mirage-kv/releases/download/v1.1.0/mirage-kv-1.1.0.tbz
[mirage-time.1.1.0] downloaded from https://github.com/mirage/mirage-time/releases/download/v1.1.0/mirage-time-1.1.0.tbz
[mtime.1.1.0] downloaded from http://erratique.ch/software/mtime/releases/mtime-1.1.0.tbz
[mstruct.1.4.0] downloaded from https://github.com/mirage/ocaml-mstruct/releases/download/v1.4.0/mstruct-1.4.0.tbz
[mirage-time-lwt.1.1.0] downloaded from https://github.com/mirage/mirage-time/releases/download/v1.1.0/mirage-time-1.1.0.tbz
[named-pipe.0.4.0] downloaded from https://github.com/mirage/ocaml-named-pipe/releases/download/0.4.0/named-pipe-0.4.0.tbz
[ocaml-compiler-libs.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/ocaml-compiler-libs-v0.11.0.tar.gz
[ocamlgraph.1.8.8] downloaded from http://ocamlgraph.lri.fr/download/ocamlgraph-1.8.8.tar.gz
[num.1.1] downloaded from https://github.com/ocaml/num/archive/v1.1.tar.gz
[ocb-stubblr.0.1.1-1] downloaded from https://github.com/pqwy/ocb-stubblr/releases/download/v0.1.1/ocb-stubblr-0.1.1.tbz
[ocaml-migrate-parsetree.1.2.0] downloaded from https://github.com/ocaml-ppx/ocaml-migrate-parsetree/releases/download/v1.2.0/ocaml-migrate-parsetree-v1.2.0.tbz
[ocplib-endian.1.0] downloaded from https://github.com/OCamlPro/ocplib-endian/archive/1.0.tar.gz
[parsexp.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/parsexp-v0.11.0.tar.gz
[ppx_fields_conv.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/ppx_fields_conv-v0.11.0.tar.gz
[ppx_derivers.1.0] downloaded from https://github.com/ocaml-ppx/ppx_derivers/archive/1.0.tar.gz
[ppx_sexp_conv.v0.11.2] downloaded from https://github.com/janestreet/ppx_sexp_conv/archive/v0.11.2.tar.gz
[ppx_tools.5.1+4.06.0] downloaded from https://github.com/ocaml-ppx/ppx_tools/archive/5.1+4.06.0.tar.gz
[ppxlib.0.5.0] downloaded from https://github.com/ocaml-ppx/ppxlib/releases/download/0.5.0/ppxlib-0.5.0.tbz
[prometheus.0.5] downloaded from https://github.com/mirage/prometheus/releases/download/v0.5/prometheus-0.5.tbz
[prometheus-app.0.5] downloaded from https://github.com/mirage/prometheus/releases/download/v0.5/prometheus-0.5.tbz
[protocol-9p.0.12.1] downloaded from https://github.com/mirage/ocaml-9p/archive/0.12.1.tar.gz
[protocol-9p-unix.0.12.1] downloaded from https://github.com/mirage/ocaml-9p/archive/0.12.1.tar.gz
[rresult.0.6.0] downloaded from http://erratique.ch/software/rresult/releases/rresult-0.6.0.tbz
[re.1.8.0] downloaded from https://github.com/ocaml/ocaml-re/releases/download/1.8.0/re-1.8.0.tbz
[stdio.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/stdio-v0.11.0.tar.gz
[sexplib.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/sexplib-v0.11.0.tar.gz
[sexplib0.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/sexplib0-v0.11.0.tar.gz
[uutf.1.0.1] downloaded from http://erratique.ch/software/uutf/releases/uutf-1.0.1.tbz
[win-error.0.3] downloaded from https://github.com/djs55/ocaml-win-error/archive/0.3.tar.gz
[stringext.1.5.0] downloaded from https://github.com/rgrinberg/stringext/archive/1.5.0.zip
[uri.2.1.0] downloaded from https://github.com/mirage/ocaml-uri/releases/download/v2.1.0/uri-v2.1.0.tbz
[win-eventlog.0.2] downloaded from https://github.com/djs55/ocaml-win-eventlog/archive/v0.2.tar.gz

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> installed seq.base
-> installed asetmap.0.8.1
-> installed duration.0.1.1
-> installed logs.0.6.2
-> installed decompress.0.7
-> installed magic-mime.1.1.1
-> installed mirage-device.1.1.0
-> installed mirage-flow.1.5.0
-> installed mtime.1.1.0
-> installed ocaml-compiler-libs.v0.11.0
-> installed ppx_derivers.1.0
-> installed ppx_tools.5.1+4.06.0
-> installed asl.0.11
-> installed base64.2.3.0
-> installed irmin-watcher.0.4.0
-> installed mirage-channel.3.1.0
-> installed mirage-clock.2.0.0
-> installed mirage-kv.1.1.1
-> installed mirage-time.1.1.0
-> installed re.1.8.0
-> installed rresult.0.6.0
-> installed sexplib0.v0.11.0
-> installed stringext.1.5.0
-> installed uutf.1.0.1
-> installed win-error.0.3
-> installed win-eventlog.0.2
-> installed ocplib-endian.1.0
-> installed jsonm.1.0.1
-> installed macaddr.3.0.0
-> installed mirage-time-lwt.1.1.0
-> installed num.1.1
-> installed ipaddr.3.0.0
-> installed ocaml-migrate-parsetree.1.2.0
-> installed ocamlgraph.1.8.8
-> installed base.v0.11.1
-> installed ocb-stubblr.0.1.1-1
-> installed parsexp.v0.11.0
-> installed prometheus.0.5
-> installed stdio.v0.11.0
-> installed named-pipe.0.4.0
-> installed sexplib.v0.11.0
-> installed configurator.v0.11.0
-> installed cstruct.3.2.1
-> installed datakit-client.0.12.0
-> installed cstruct-lwt.3.2.1
-> installed datakit-server.0.12.0
-> installed hex.1.2.0
-> installed io-page.2.0.1
-> installed mirage-flow-lwt.1.5.0
-> installed mirage-kv-lwt.1.1.0
-> installed mstruct.1.4.0
-> installed io-page-unix.2.0.1
-> installed hvsock.1.0.2
-> installed mirage-channel-lwt.3.1.0
-> installed ppxlib.0.5.0
-> installed fieldslib.v0.11.0
-> installed ppx_sexp_conv.v0.11.2
-> installed ppx_fields_conv.v0.11.0
-> installed protocol-9p.0.12.1
-> installed uri.2.1.0
-> installed datakit-server-9p.0.12.0
-> installed protocol-9p-unix.0.12.1
-> installed conduit.1.4.0
-> installed datakit-client-9p.0.12.0
-> installed cohttp.1.2.0
-> installed git.1.11.5
-> installed irmin.1.4.0
-> installed conduit-lwt.1.4.0
-> installed cohttp-lwt.1.2.0
-> installed irmin-mem.1.3.0
-> installed irmin-git.1.3.0
-> installed conduit-lwt-unix.1.4.0
-> installed cohttp-lwt-unix.1.2.0
-> installed prometheus-app.0.5
Done.
# Run eval $(opam env) to update the current shell environment
 ---> e888ead20ba0
Removing intermediate container a97f8119753c
Step 11/22 : COPY . /home/opam/src/datakit
 ---> b3a5c97b1765
Removing intermediate container 3eef3788e618
Step 12/22 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in 0ef948f77b8a
 ---> 83da736e8231
Removing intermediate container 0ef948f77b8a
Step 13/22 : RUN opam update --dev && opam upgrade
 ---> Running in e8c23fda8a7f

<><> Synchronising development packages <><><><><><><><><><><><><><><><><><><><>
[datakit.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-bridge-github.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-bridge-local-git.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-ci.0.12.1] synchronised from file:///home/opam/src/datakit
[datakit-client.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-client-9p.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-client-git.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-github.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-server.0.12.0] synchronised from file:///home/opam/src/datakit
[datakit-server-9p.0.12.0] synchronised from file:///home/opam/src/datakit
Now run 'opam upgrade' to apply any package updates.
The following actions will be performed:
  - recompile datakit-server    0.12.0* [upstream changes]
  - recompile datakit-client    0.12.0* [upstream changes]
  - recompile datakit-server-9p 0.12.0* [upstream changes]
  - recompile datakit-client-9p 0.12.0* [upstream changes]
===== 4 to recompile =====

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> removed   datakit-client-9p.0.12.0
-> removed   datakit-client.0.12.0
-> installed datakit-client.0.12.0
-> removed   datakit-server-9p.0.12.0
-> removed   datakit-server.0.12.0
-> installed datakit-server.0.12.0
-> installed datakit-client-9p.0.12.0
-> installed datakit-server-9p.0.12.0
Done.
# Run eval $(opam env) to update the current shell environment
 ---> b8c81580c325
Removing intermediate container e8c23fda8a7f
Step 14/22 : RUN opam install datakit -ytv
 ---> Running in 74f346c4a18f

<><> Synchronising pinned packages ><><><><><><><><><><><><><><><><><><><><><><>
Processing  1/1: [datakit.0.12.0: rsync]
[datakit.0.12.0] no changes from file:///home/opam/src/datakit

The following actions will be performed:
  - install datakit 0.12.0*

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
Processing  1/2: [datakit: dune build]
+ /home/opam/.opam/4.07/bin/dune "build" "-p" "datakit" "-j" "127" (CWD=/home/opam/.opam/4.07/.opam-switch/build/datakit.0.12.0)
Processing  1/2: [datakit: dune runtest]
+ /home/opam/.opam/4.07/bin/dune "runtest" "tests/datakit" (CWD=/home/opam/.opam/4.07/.opam-switch/build/datakit.0.12.0)
-         test alias tests/datakit/runtest
- /bin/sh: tput: not found
- stty: 'standard input': Not a tty
- Testing datakit.
- This run has ID `009EC7E6-C4C7-4C0F-8FDF-E9D59E880DD8`.
- [33m ...[m                [36mserver[m           0   Writes.[32m[OK][m                [36mserver[m           0   Writes.
- [33m ...[m                [36mserver[m           1   RW.[32m[OK][m                [36mserver[m           1   RW.
- [33m ...[m                [36mserver[m           2   Blobs fast.[32m[OK][m                [36mserver[m           2   Blobs fast.
- [33m ...[m                [36mserver[m           3   Blobs random.[32m[OK][m                [36mserver[m           3   Blobs random.
- [33m ...[m                [36mserver[m           4   Streams.[32m[OK][m                [36mserver[m           4   Streams.
- [33m ...[m                [36mconduit[m          0   basic.[32m[OK][m                [36mconduit[m          0   basic.
- The full test results are available in `/home/opam/.opam/4.07/.opam-switch/build/datakit.0.12.0/_build/default/tests/datakit/_build/_tests/009EC7E6-C4C7-4C0F-8FDF-E9D59E880DD8`.
- [32mTest Successful[m in 0.000s. 6 tests run.
+ /home/opam/.opam/4.07/bin/dune "runtest" "tests/datakit-9p" (CWD=/home/opam/.opam/4.07/.opam-switch/build/datakit.0.12.0)
-         test alias tests/datakit-9p/runtest
- /bin/sh: tput: not found
- stty: 'standard input': Not a tty
- Testing datakit-9p.
- This run has ID `828F494A-B4B8-4E44-942D-31C2D968811A`.
- [33m ...[m                [36mserver[m          0   Transaction.[32m[OK][m                [36mserver[m          0   Transaction.
- [33m ...[m                [36mserver[m          1   Qids.[32m[OK][m                [36mserver[m          1   Qids.
- [33m ...[m                [36mserver[m          2   Watch.[32m[OK][m                [36mserver[m          2   Watch.
- [33m ...[m                [36mserver[m          3   Range.[32m[OK][m                [36mserver[m          3   Range.
- [33m ...[m                [36mserver[m          4   Rename branch.[32m[OK][m                [36mserver[m          4   Rename branch.
- [33m ...[m                [36mserver[m          5   Rename file.[32m[OK][m                [36mserver[m          5   Rename file.
- [33m ...[m                [36mserver[m          6   Truncate.[32m[OK][m                [36mserver[m          6   Truncate.
- [33m ...[m                [36mserver[m          7   Parents.[32m[OK][m                [36mserver[m          7   Parents.
- [33m ...[m                [36mserver[m          8   Merge.[32m[OK][m                [36mserver[m          8   Merge.
- [33m ...[m                [36mserver[m          9   Merge_metadata.[32m[OK][m                [36mserver[m          9   Merge_metadata.
- [33m ...[m                [36mserver[m         10   Merge empty.[32m[OK][m                [36mserver[m         10   Merge empty.
- [33m ...[m                [36mserver[m         11   Conflicts.[32m[OK][m                [36mserver[m         11   Conflicts.
- [33m ...[m                [36mserver[m         12   Stable inodes.[32m[OK][m                [36mserver[m         12   Stable inodes.
- [33m ...[m                [36mserver[m         13   Remotes.[33m[SKIP][m              [36mserver[m         13   Remotes.
- [33m ...[m                [36mserver[m         14   Debug.[32m[OK][m                [36mserver[m         14   Debug.
- [33m ...[m                [36mclient[m          0   Transaction.[32m[OK][m                [36mclient[m          0   Transaction.
- [33m ...[m                [36mclient[m          1   Watch.[32m[OK][m                [36mclient[m          1   Watch.
- [33m ...[m                [36mclient[m          2   Make dirs.[32m[OK][m                [36mclient[m          2   Make dirs.
- [33m ...[m                [36mclient[m          3   Truncate.[32m[OK][m                [36mclient[m          3   Truncate.
- [33m ...[m                [36mclient[m          4   Parents.[32m[OK][m                [36mclient[m          4   Parents.
- [33m ...[m                [36mclient[m          5   Merge.[32m[OK][m                [36mclient[m          5   Merge.
- [33m ...[m                [36mclient[m          6   Diff.[32m[OK][m                [36mclient[m          6   Diff.
- [33m ...[m                [36mclient[m          7   Merge_metadata.[32m[OK][m                [36mclient[m          7   Merge_metadata.
- [33m ...[m                [36mclient[m          8   Merge empty.[32m[OK][m                [36mclient[m          8   Merge empty.
- [33m ...[m                [36mclient[m          9   Conflicts.[32m[OK][m                [36mclient[m          9   Conflicts.
- [33m ...[m                [36mclient[m         10   Large write.[32m[OK][m                [36mclient[m         10   Large write.
- [33m ...[m                [36mclient[m         11   Remove.[32m[OK][m                [36mclient[m         11   Remove.
- [33m ...[m                [36mclient[m         12   Remotes.[33m[SKIP][m              [36mclient[m         12   Remotes.
- [33m ...[m                [36mclient[m         13   Create_or_replace.[33m[SKIP][m              [36mclient[m         13   Create_or_replace.
- The full test results are available in `/home/opam/.opam/4.07/.opam-switch/build/datakit.0.12.0/_build/default/tests/datakit-9p/_build/_tests/828F494A-B4B8-4E44-942D-31C2D968811A`.
- [32mTest Successful[m in 0.252s. 26 tests run.
-> compiled  datakit.0.12.0
-> installed datakit.0.12.0
Done.
# Run eval $(opam env) to update the current shell environment
 ---> 4e4571e64e51
Removing intermediate container 74f346c4a18f
Step 15/22 : RUN sudo cp $(opam config exec -- which datakit) /usr/bin/datakit &&     sudo cp $(opam config exec -- which datakit-mount) /usr/bin/datakit-mount
 ---> Running in ca1201d8e824
 ---> d318a86aff17
Removing intermediate container ca1201d8e824
Step 16/22 : FROM alpine:3.8
3.8: Pulling from library/alpine
Digest: sha256:46e71df1e5191ab8b8034c5189e325258ec44ea739bba1e5645cff83c9048ff1
Status: Image is up to date for alpine:3.8
 ---> 3f53bb00af94
Step 17/22 : RUN apk add --no-cache libev gmp tzdata ca-certificates git openssh-client bash
 ---> Running in 8c78db8c1fed
fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/x86_64/APKINDEX.tar.gz
(1/17) Installing ncurses-terminfo-base (6.1_p20180818-r1)
(2/17) Installing ncurses-terminfo (6.1_p20180818-r1)
(3/17) Installing ncurses-libs (6.1_p20180818-r1)
(4/17) Installing readline (7.0.003-r0)
(5/17) Installing bash (4.4.19-r1)
Executing bash-4.4.19-r1.post-install
(6/17) Installing ca-certificates (20171114-r3)
(7/17) Installing nghttp2-libs (1.32.0-r0)
(8/17) Installing libssh2 (1.8.0-r3)
(9/17) Installing libcurl (7.61.1-r1)
(10/17) Installing expat (2.2.5-r0)
(11/17) Installing pcre2 (10.31-r0)
(12/17) Installing git (2.18.1-r0)
(13/17) Installing gmp (6.1.2-r1)
(14/17) Installing libev (4.24-r0)
(15/17) Installing openssh-keygen (7.7_p1-r3)
(16/17) Installing openssh-client (7.7_p1-r3)
(17/17) Installing tzdata (2018f-r0)
Executing busybox-1.28.4-r2.trigger
Executing ca-certificates-20171114-r3.trigger
OK: 35 MiB in 30 packages
 ---> 4de3db1a353d
Removing intermediate container 8c78db8c1fed
Step 18/22 : EXPOSE 5640
 ---> Running in 19d3805eec88
 ---> 2d1cb9543b7d
Removing intermediate container 19d3805eec88
Step 19/22 : ENTRYPOINT /usr/bin/datakit
 ---> Running in a57d015f11d6
 ---> c12560ad4d03
Removing intermediate container a57d015f11d6
Step 20/22 : CMD --url=tcp://0.0.0.0:5640 --git=/data -v
 ---> Running in 7583b2465959
 ---> 6b311b51225f
Removing intermediate container 7583b2465959
Step 21/22 : COPY --from=0 /usr/bin/datakit /usr/bin/datakit
 ---> f605f3d4db4b
Removing intermediate container a79fa51593fd
Step 22/22 : COPY --from=0 /usr/bin/datakit-mount /usr/bin/datakit-mount
 ---> eceb1dc6c85b
Removing intermediate container ab971bb286d2
Successfully built eceb1dc6c85b
[2019-01-17 20:16.08] Success
