=== Docker run test-prometheus-app
[2017-02-02 18:21.04] Starting...
[2017-02-02 18:21.04] Running "docker" "run" "--rm" "--entrypoint" "/bin/sh" "sha256:04c3130e471083eccd350459da65890cdbf95aa336e3ba494ba4cbad9229fee5" "-c" "opam remove -y \"prometheus-app\"&& opam install -y -t --deps-only \"prometheus-app\" && opam install -y -v -t \"prometheus-app\""
The following actions will be performed:
  - remove prometheus-app ~dev*

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-> removed   prometheus-app.~dev
Done.
# Run eval `opam config env` to update the current shell environment

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/1: [prometheus-app: git]
[prometheus-app] git+file:///home/opam/datakit changed
The following actions will be performed:
  - install alcotest 0.7.2

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/1: [alcotest: http]
[alcotest.0.7.2] https://github.com/mirage/alcotest/releases/download/0.7.2/alcotest-0.7.2.tbz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/2:
Processing  1/2: [alcotest: ocaml build]
-> installed alcotest.0.7.2
Done.
# Run eval `opam config env` to update the current shell environment

=-=- Synchronising pinned packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/1: [prometheus-app: git]
[prometheus-app] git+file:///home/opam/datakit changed
The following actions will be performed:
  - install prometheus-app ~dev*

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[prometheus-app] git+file:///home/opam/datakit changed

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Processing  1/2: [prometheus-app: ocaml build]
+ ocaml "pkg/pkg.ml" "build" "--pinned" "true" "--tests" "false" "-n" "prometheus-app" (CWD=/home/opam/.opam/default/.opam-switch/build/prometheus-app.~dev)
- pkg.ml: [WARNING] Watermarks: OPAM fields of prometheus-app.opam: topkg: no such command. Did you install topkg-care ?
- pkg.ml: [WARNING] file prometheus-app.opam: opam field "maintainer" undefined or unsupported
- pkg.ml: [WARNING] file prometheus-app.opam: opam field "authors" undefined or unsupported
- pkg.ml: [WARNING] file prometheus-app.opam: opam field "homepage" undefined or unsupported
- pkg.ml: [WARNING] file prometheus-app.opam: opam field "bug-reports" undefined or unsupported
- pkg.ml: [WARNING] file prometheus-app.opam: opam field "doc" undefined or unsupported
- pkg.ml: [WARNING] file prometheus-app.opam: opam field "license" undefined or unsupported
- pkg.ml: [WARNING] file prometheus-app.opam: opam field "dev-repo" undefined or unsupported
- ocamlfind ocamlopt unix.cmxa -I /home/opam/.opam/default/lib/ocamlbuild /home/opam/.opam/default/lib/ocamlbuild/ocamlbuildlib.cmxa -linkpkg myocamlbuild.ml /home/opam/.opam/default/lib/ocamlbuild/ocamlbuild.cmx -o myocamlbuild
- ocamlfind ocamldep -package 'cohttp.lwt, uri, cmdliner' -package cohttp.lwt -package 'lwt, astring, asetmap, fmt, str' -modules prometheus/app/prometheus_app.ml > prometheus/app/prometheus_app.ml.depends
- ocamlfind ocamldep -package 'cohttp.lwt, uri, cmdliner' -package cohttp.lwt -package 'lwt, astring, asetmap, fmt, str' -modules prometheus/app/prometheus_app.mli > prometheus/app/prometheus_app.mli.depends
- ocamlfind ocamldep -package 'lwt, astring, asetmap, fmt, str' -modules prometheus/src/prometheus.mli > prometheus/src/prometheus.mli.depends
- ocamlfind ocamlc -c -g -annot -bin-annot -safe-string -strict-sequence -package 'lwt, astring, asetmap, fmt, str' -w A-4-58 -warn-error +1..49-3 -w A-4-41-44 -I prometheus/src -I prometheus -I prometheus/app -o prometheus/src/prometheus.cmi prometheus/src/prometheus.mli
- ocamlfind ocamlc -c -g -annot -bin-annot -safe-string -strict-sequence -package 'cohttp.lwt, uri, cmdliner' -package cohttp.lwt -package 'lwt, astring, asetmap, fmt, str' -w A-4-58 -warn-error +1..49-3 -w A-4-41-44 -I prometheus/app -I prometheus -I prometheus/src -o prometheus/app/prometheus_app.cmi prometheus/app/prometheus_app.mli
- ocamlfind ocamldep -package 'lwt, astring, asetmap, fmt, str' -modules prometheus/src/prometheus.ml > prometheus/src/prometheus.ml.depends
- ocamlfind ocamlopt -c -g -annot -bin-annot -safe-string -strict-sequence -package 'lwt, astring, asetmap, fmt, str' -w A-4-58 -warn-error +1..49-3 -w A-4-41-44 -I prometheus/src -I prometheus -I prometheus/app -o prometheus/src/prometheus.cmx prometheus/src/prometheus.ml
- ocamlfind ocamlopt -c -g -annot -bin-annot -safe-string -strict-sequence -package 'cohttp.lwt, uri, cmdliner' -package cohttp.lwt -package 'lwt, astring, asetmap, fmt, str' -w A-4-58 -warn-error +1..49-3 -w A-4-41-44 -I prometheus/app -I prometheus -I prometheus/src -o prometheus/app/prometheus_app.cmx prometheus/app/prometheus_app.ml
- ocamlfind ocamlopt -a -package 'cohttp.lwt, uri, cmdliner' -package cohttp.lwt -package 'lwt, astring, asetmap, fmt, str' prometheus/app/prometheus_app.cmx -o prometheus/app/prometheus-app.cmxa
- ocamlfind ocamlopt -shared -linkall -package 'cohttp.lwt, uri, cmdliner' -package cohttp.lwt -package 'lwt, astring, asetmap, fmt, str' prometheus/app/prometheus-app.cmxa -o prometheus/app/prometheus-app.cmxs
- ocamlfind ocamlc -c -g -annot -bin-annot -safe-string -strict-sequence -package 'cohttp.lwt, uri, cmdliner' -package cohttp.lwt -package 'lwt, astring, asetmap, fmt, str' -w A-4-58 -warn-error +1..49-3 -w A-4-41-44 -I prometheus/app -I prometheus -I prometheus/src -o prometheus/app/prometheus_app.cmo prometheus/app/prometheus_app.ml
- ocamlfind ocamlc -a -package 'cohttp.lwt, uri, cmdliner' -package cohttp.lwt -package 'lwt, astring, asetmap, fmt, str' prometheus/app/prometheus_app.cmo -o prometheus/app/prometheus-app.cma
- pkg.ml: [WARNING] Package description has 8 warning(s), see log above.
+ ocaml "pkg/pkg.ml" "build" "--pinned" "true" "--tests" "true" "-n" "prometheus-app" (CWD=/home/opam/.opam/default/.opam-switch/build/prometheus-app.~dev)
- pkg.ml: [WARNING] Watermarks: OPAM fields of prometheus-app.opam: topkg: no such command. Did you install topkg-care ?
- pkg.ml: [WARNING] file prometheus-app.opam: opam field "maintainer" undefined or unsupported
- pkg.ml: [WARNING] file prometheus-app.opam: opam field "authors" undefined or unsupported
- pkg.ml: [WARNING] file prometheus-app.opam: opam field "homepage" undefined or unsupported
- pkg.ml: [WARNING] file prometheus-app.opam: opam field "bug-reports" undefined or unsupported
- pkg.ml: [WARNING] file prometheus-app.opam: opam field "doc" undefined or unsupported
- pkg.ml: [WARNING] file prometheus-app.opam: opam field "license" undefined or unsupported
- pkg.ml: [WARNING] file prometheus-app.opam: opam field "dev-repo" undefined or unsupported
- ocamlfind ocamlopt -shared -linkall -package 'cohttp.lwt, uri, cmdliner' -package cohttp.lwt -package 'lwt, astring, asetmap, fmt, str' prometheus/app/prometheus-app.cmxa -o prometheus/app/prometheus-app.cmxs
- ocamlfind ocamldep -package alcotest -package cohttp.lwt -package 'lwt, astring, asetmap, fmt, str' -modules prometheus/tests/test.ml > prometheus/tests/test.ml.depends
- ocamlfind ocamldep -package alcotest -package cohttp.lwt -package 'lwt, astring, asetmap, fmt, str' -modules prometheus/tests/test.mli > prometheus/tests/test.mli.depends
- ocamlfind ocamlc -c -g -annot -bin-annot -safe-string -strict-sequence -package alcotest -package cohttp.lwt -package 'lwt, astring, asetmap, fmt, str' -w A-4-58 -warn-error +1..49-3 -w A-4-41-44 -I prometheus/tests -I prometheus -I prometheus/app -I prometheus/src -o prometheus/tests/test.cmi prometheus/tests/test.mli
- ocamlfind ocamlopt -c -g -annot -bin-annot -safe-string -strict-sequence -package alcotest -package cohttp.lwt -package 'lwt, astring, asetmap, fmt, str' -w A-4-58 -warn-error +1..49-3 -w A-4-41-44 -I prometheus/tests -I prometheus -I prometheus/app -I prometheus/src -o prometheus/tests/test.cmx prometheus/tests/test.ml
- ocamlfind ocamlopt -linkpkg -g -package alcotest -package cohttp.lwt -package 'lwt, astring, asetmap, fmt, str' prometheus/src/prometheus.cmx prometheus/app/prometheus_app.cmx prometheus/tests/test.cmx -o prometheus/tests/test.native
- pkg.ml: [WARNING] Package description has 8 warning(s), see log above.
Processing  1/2: [prometheus-app: ocaml test]
+ ocaml "pkg/pkg.ml" "test" "_build/prometheus/tests/test.native" (CWD=/home/opam/.opam/default/.opam-switch/build/prometheus-app.~dev)
- /bin/sh: tput: not found
- stty: standard input: Not a tty
- Testing prometheus.
-  ...                main          0   Metrics.[OK]                main          0   Metrics.
- The full test results are available in `_build/_tests`.
- Test Successful in 0.000s. 1 test run.
-> compiled  prometheus-app.~dev
-> installed prometheus-app.~dev
Done.
# Run eval `opam config env` to update the current shell environment
[2017-02-02 18:21.33] Success
